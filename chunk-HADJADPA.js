import{a as z}from"./chunk-D7FTYTIE.js";import"./chunk-GGQ7LRWG.js";import{c as R,d as L,f as h,h as N}from"./chunk-W4BNGQYG.js";import{$ as J,Z as $,a as D,aa as K,b as f,ca as Q,da as W,e as V,f as G,h as q,ha as ee,j,k as Y,ka as re,la as te,ma as ae,n as Z,na as ne,o as H,oa as ie,p as U,pa as oe,ra as se,ta as me}from"./chunk-OWSZPSB2.js";import{l as X,w as I}from"./chunk-VLRPGDCF.js";import{Cb as c,Ga as M,Ha as x,Ib as O,Jb as u,Jc as B,Ka as C,Kb as b,Lb as E,Mb as A,Nc as _,Ob as p,Sa as w,Tb as m,Ub as n,Vb as l,bc as T,cc as F,ga as v,ia as y,la as o,lb as s,mc as d,oc as S,pb as k,xb as g,yb as P}from"./chunk-Q2JYTUQO.js";function ge(r,i){r&1&&l(0,"div",2)}var ue=new y("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var de=(()=>{class r{_elementRef=o(C);_ngZone=o(x);_changeDetectorRef=o(B);_renderer=o(k);_cleanupTransitionEnd;_animationMode=o(w,{optional:!0});constructor(){let e=o(ue,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=le(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=le(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new M;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||r)};static \u0275cmp=g({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,a){t&2&&(O("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),A("mat-"+a.color),E("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",_],bufferValue:[2,"bufferValue","bufferValue",_],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,a){t&1&&(m(0,"div",0),l(1,"div",1),c(2,ge,1,0,"div",2),n(),m(3,"div",3),l(4,"span",4),n(),m(5,"div",5),l(6,"span",4),n()),t&2&&(s(),b("flex-basis",a._getBufferBarFlexBasis()),s(),p(a.mode==="buffer"?2:-1),s(),b("transform",a._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return r})();function le(r,i=0,e=100){return Math.max(i,Math.min(e,r))}var ce=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=P({type:r});static \u0275inj=v({imports:[$]})}return r})();function _e(r,i){if(r&1&&(m(0,"mat-error",6),d(1),n()),r&2){let e=F();s(),S(" ",e.errorMessage," ")}}function he(r,i){r&1&&d(0," Login ")}function ve(r,i){r&1&&l(0,"mat-progress-bar",8)}var pe=class r{loginForm;errorMessage=null;isLoading=!1;fb=o(H);authService=o(z);router=o(I);constructor(){this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required,f.minLength(6)]]})}ngOnInit(){this.authService.isLoggedIn().subscribe(i=>{i&&this.router.navigate(["/dashboard"])})}onLogin(){if(this.errorMessage=null,this.loginForm.valid){this.isLoading=!0;let{email:i,password:e}=this.loginForm.value;this.authService.login(i,e).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:t=>{switch(this.isLoading=!1,t.code){case"auth/user-not-found":case"auth/wrong-password":this.errorMessage="Invalid email or password.";break;case"auth/invalid-email":this.errorMessage="Please enter a valid email address.";break;case"auth/too-many-requests":this.errorMessage="Too many login attempts. Please try again later.";break;default:this.errorMessage="Login failed. Please try again."}console.error("Login error:",t)}})}else this.loginForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=g({type:r,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],["appearance","fill","appValidationErrors","",1,"full-width"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"general-error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width","login-button",3,"disabled"],["mode","indeterminate"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),d(4,"IISA Mission Control Login"),n()(),m(5,"mat-card-content")(6,"form",2),T("ngSubmit",function(){return t.onLogin()}),m(7,"mat-form-field",3)(8,"mat-label"),d(9,"Email"),n(),l(10,"input",4),n(),m(11,"mat-form-field",3)(12,"mat-label"),d(13,"Password"),n(),l(14,"input",5),n(),c(15,_e,2,1,"mat-error",6),m(16,"button",7),c(17,he,1,0)(18,ve,1,0,"mat-progress-bar",8),n()()()()()),e&2&&(s(),u("@cardFade",void 0),s(5),u("formGroup",t.loginForm),s(9),p(t.errorMessage?15:-1),s(),u("disabled",t.loginForm.invalid),s(),p(t.isLoading?18:17))},dependencies:[X,U,q,D,V,G,Z,j,Y,me,ne,oe,se,ie,re,ee,Q,W,ae,te,K,J,ce,de],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-position:center;background-size:cover;padding-top:50px;box-sizing:border-box}.login-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:30px 40px;background:#0f1e3ce6;backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(65,133,244,.2);box-shadow:0 0 25px #4185f426}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;display:block}.login-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:26px;font-weight:700;color:#a0c0ff;text-shadow:0 0 8px rgba(65,133,244,.7);display:block;text-align:center}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-bottom:15px}.mat-mdc-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{background-color:#ffffff0d!important}.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-floating-label.mat-mdc-form-field-floating-label[_ngcontent-%COMP%]{color:#8af!important}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#4185f4!important}.mat-mdc-form-field.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%], .mat-mdc-form-field.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#ff6f6f!important}.login-button[_ngcontent-%COMP%]{margin-top:30px;height:50px;font-family:Montserrat,sans-serif;font-weight:600;letter-spacing:.05em;background-color:#4185f4;color:#fff;transition:box-shadow .3s ease}.login-button[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed;pointer-events:none;filter:grayscale(40%) contrast(85%);transform:scale(.98);transition:opacity .2s ease-in-out,filter .2s ease-in-out,transform .2s ease-in-out,background-color .2s ease-in-out;background-color:#80808033!important;color:#ffffffb3!important;box-shadow:none!important;backdrop-filter:blur(2px)}.general-error-message[_ngcontent-%COMP%]{color:#ff6f6f;font-size:14px;margin-top:15px;text-align:center;display:block}mat-error[_ngcontent-%COMP%]{color:#ff6f6f!important;font-size:13px!important}mat-progress-bar[_ngcontent-%COMP%]{height:8px!important;border-radius:4px;background-color:#fff3}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mat-mdc-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#fff!important}"],data:{animation:[R("cardFade",[N(":enter",[h({opacity:0,transform:"translateY(50px)"}),L("600ms ease-out",h({opacity:1,transform:"translateY(0)"}))])])]}})};export{pe as LoginComponent};
