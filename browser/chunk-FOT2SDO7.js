import{a as Vs}from"./chunk-62EBTWBJ.js";import{a as as}from"./chunk-T2PHZ3VE.js";import"./chunk-GGQ7LRWG.js";import{c as ts,d as is,f as An,h as ns}from"./chunk-W4BNGQYG.js";import{a as rs}from"./chunk-ZY6XP4WM.js";import{a as zs}from"./chunk-677IXYM7.js";import{A as Ti,a as ss,b as gs,c as ps,d as bi,j as us,k as fs,l as _s,m as xs,n as vs,o as ys,p as bs,q as Cs,r as Ts,s as ws,t as ks,u as Ss,v as Ls,w as As,x as Ci,y as Os,z as Is}from"./chunk-6BDKQN3U.js";import"./chunk-W74OV75A.js";import{$ as ls,W as os,ca as cs,ea as hs,ha as ds,la as ms,na as Ds,oa as Ms,pa as Es,ra as Fs}from"./chunk-OHTKK6G5.js";import{B as yi,e as Ze,f as fe,g as Qa,i as qa,j as Ua,k as Ka,l as Be,m as Ge,n as vi,q as Ja,w as es}from"./chunk-WJAPHO4V.js";import{$ as Ea,Aa as Fa,Ac as Za,Bb as bn,Bc as ja,Cb as w,Cc as Vt,F as Sa,G as La,Ga as k,Ha as We,Hb as Pa,Ib as D,Jb as x,Jc as xi,Ka as be,Kb as ue,L as Aa,Lb as Re,Mb as Ra,Mc as Ln,N as Da,Nb as Ba,Ob as ui,P as xn,Pb as Ga,Ra as Pe,Rb as Na,Sb as Ha,Tb as p,Ub as u,Vb as V,Wb as ce,Xb as he,Y as Ma,Yb as Cn,Zb as K,a as Ee,aa as ft,b as mi,bc as I,cc as _,dc as Ot,ec as It,fa as nt,fc as fi,ga as j,gc as Ce,h as Ca,hb as Oa,hc as de,ia as gi,ib as Ia,ic as me,k as Mt,ka as pi,kb as Va,l as Ta,la as U,lb as f,lc as Ye,m as wa,mc as b,nc as Te,oc as Y,pb as yn,pc as Tn,qb as $,qc as $a,r as ka,rc as Xa,sb as za,sc as Wa,ta as H,ua as F,uc as _i,v as Et,va as O,vc as wn,wa as C,wc as Ya,xb as B,xc as kn,ya as vn,yb as Q,yc as _t,z as Ft,zb as at,zc as Sn}from"./chunk-FXQC5WQD.js";var Dl=["*"],wi=class{_ngZone;_pending=[];_listeners=[];_targetStream=new Ta(void 0);_clearListeners(){for(let n of this._listeners)n.remove();this._listeners=[]}constructor(n){this._ngZone=n}getLazyEmitter(n){return this._targetStream.pipe(Ea(t=>{let i=new Ca(a=>{if(!t){this._pending.push({observable:i,observer:a});return}let s=t.addListener(n,r=>{this._ngZone.run(()=>a.next(r))});if(!s){a.complete();return}return this._listeners.push(s),()=>s.remove()});return i}))}setTarget(n){let t=this._targetStream.value;n!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(n),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},zt={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Ps="500px",Rs="500px",ki=(()=>{class e{_elementRef=U(be);_ngZone=U(We);_eventManager=new wi(U(We));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=Ps;width=Rs;mapId;mapTypeId;set center(t){this._center=t}_center;set zoom(t){this._zoom=t}_zoom;set options(t){this._options=t||zt}_options=zt;mapInitialized=new k;authFailure=new k;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let t=U(Pe);if(this._isBrowser=Ge(t),this._isBrowser){let i=window;i.google,this._existingAuthFailureCallback=i.gm_authFailure,i.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(t){(t.height||t.width)&&this._setSize();let i=this.googleMap;i&&(t.options&&i.setOptions(this._combineOptions()),t.center&&this._center&&i.setCenter(this._center),t.zoom&&this._zoom!=null&&i.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(t=>this._initialize(t.Map))}))}_initialize(t){this._ngZone.runOutsideAngular(()=>{this.googleMap=new t(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let t=window;t.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(t,i){this._assertInitialized(),this.googleMap.fitBounds(t,i)}panBy(t,i){this._assertInitialized(),this.googleMap.panBy(t,i)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,i){this._assertInitialized(),this.googleMap.panToBounds(t,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(xn(1)).toPromise()}_setSize(){if(this._mapEl){let t=this._mapEl.style;t.height=this.height===null?"":Bs(this.height)||Ps,t.width=this.width===null?"":Bs(this.width)||Rs}}_combineOptions(){let t=this._options||{};return mi(Ee({},t),{center:this._center||t.center||zt.center,zoom:this._zoom??t.zoom??zt.zoom,mapTypeId:this.mapTypeId||t.mapTypeId||zt.mapTypeId,mapId:this.mapId||t.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=B({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[H],ngContentSelectors:Dl,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,a){i&1&&(Ot(),V(0,"div",0),It(1))},encapsulation:2,changeDetection:0})}return e})(),Ml=/([A-Za-z%]+)$/;function Bs(e){return e==null?"":Ml.test(e)?e:`${e}px`}var El=new gi("MAP_MARKER"),Fl={position:{lat:37.421995,lng:-122.084092}},Gs=(()=>{class e{_googleMap=U(ki);_ngZone=U(We);_eventManager=new wi(U(We));set title(t){this._title=t}_title;set position(t){this._position=t}_position;set label(t){this._label=t}_label;set clickable(t){this._clickable=t}_clickable;set options(t){this._options=t}_options;set icon(t){this._icon=t}_icon;set visible(t){this._visible=t}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new k;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([t,i])=>{this._initialize(t,i.Marker)})}))}_initialize(t,i){this._ngZone.runOutsideAngular(()=>{this.marker=new i(this._combineOptions()),this._assertInitialized(),this.marker.setMap(t),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(t){let{marker:i,_title:a,_position:s,_label:r,_clickable:o,_icon:c,_visible:l}=this;i&&(t.options&&i.setOptions(this._combineOptions()),t.title&&a!==void 0&&i.setTitle(a),t.position&&s&&i.setPosition(s),t.label&&r!==void 0&&i.setLabel(r),t.clickable&&o!==void 0&&i.setClickable(o),t.icon&&c&&i.setIcon(c),t.visible&&l!==void 0&&i.setVisible(l))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(xn(1)).toPromise()}_combineOptions(){let t=this._options||Fl;return mi(Ee({},t),{title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:this._clickable??t.clickable,map:this._googleMap.googleMap,icon:this._icon||t.icon,visible:this._visible??t.visible})}_assertInitialized(){}static \u0275fac=function(i){return new(i||e)};static \u0275dir=at({type:e,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[_i([{provide:El,useExisting:e}]),H]})}return e})();var Si="http://www.w3.org/1999/xhtml",Dn={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ne(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Dn.hasOwnProperty(n)?{space:Dn[n],local:e}:e}function Ol(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===Si&&n.documentElement.namespaceURI===Si?n.createElement(e):n.createElementNS(t,e)}}function Il(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Li(e){var n=Ne(e);return(n.local?Il:Ol)(n)}function Vl(){}function st(e){return e==null?Vl:function(){return this.querySelector(e)}}function Ns(e){typeof e!="function"&&(e=st(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var s=n[a],r=s.length,o=i[a]=new Array(r),c,l,h=0;h<r;++h)(c=s[h])&&(l=e.call(c,c.__data__,h,s))&&("__data__"in c&&(l.__data__=c.__data__),o[h]=l);return new W(i,this._parents)}function Mn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function zl(){return[]}function Rt(e){return e==null?zl:function(){return this.querySelectorAll(e)}}function Pl(e){return function(){return Mn(e.apply(this,arguments))}}function Hs(e){typeof e=="function"?e=Pl(e):e=Rt(e);for(var n=this._groups,t=n.length,i=[],a=[],s=0;s<t;++s)for(var r=n[s],o=r.length,c,l=0;l<o;++l)(c=r[l])&&(i.push(e.call(c,c.__data__,l,r)),a.push(c));return new W(i,a)}function Bt(e){return function(){return this.matches(e)}}function Ai(e){return function(n){return n.matches(e)}}var Rl=Array.prototype.find;function Bl(e){return function(){return Rl.call(this.children,e)}}function Gl(){return this.firstElementChild}function $s(e){return this.select(e==null?Gl:Bl(typeof e=="function"?e:Ai(e)))}var Nl=Array.prototype.filter;function Hl(){return Array.from(this.children)}function $l(e){return function(){return Nl.call(this.children,e)}}function Xs(e){return this.selectAll(e==null?Hl:$l(typeof e=="function"?e:Ai(e)))}function Ws(e){typeof e!="function"&&(e=Bt(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var s=n[a],r=s.length,o=i[a]=[],c,l=0;l<r;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&o.push(c);return new W(i,this._parents)}function Di(e){return new Array(e.length)}function Ys(){return new W(this._enter||this._groups.map(Di),this._parents)}function Gt(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Gt.prototype={constructor:Gt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zs(e){return function(){return e}}function Xl(e,n,t,i,a,s){for(var r=0,o,c=n.length,l=s.length;r<l;++r)(o=n[r])?(o.__data__=s[r],i[r]=o):t[r]=new Gt(e,s[r]);for(;r<c;++r)(o=n[r])&&(a[r]=o)}function Wl(e,n,t,i,a,s,r){var o,c,l=new Map,h=n.length,m=s.length,d=new Array(h),g;for(o=0;o<h;++o)(c=n[o])&&(d[o]=g=r.call(c,c.__data__,o,n)+"",l.has(g)?a[o]=c:l.set(g,c));for(o=0;o<m;++o)g=r.call(e,s[o],o,s)+"",(c=l.get(g))?(i[o]=c,c.__data__=s[o],l.delete(g)):t[o]=new Gt(e,s[o]);for(o=0;o<h;++o)(c=n[o])&&l.get(d[o])===c&&(a[o]=c)}function Yl(e){return e.__data__}function js(e,n){if(!arguments.length)return Array.from(this,Yl);var t=n?Wl:Xl,i=this._parents,a=this._groups;typeof e!="function"&&(e=Zs(e));for(var s=a.length,r=new Array(s),o=new Array(s),c=new Array(s),l=0;l<s;++l){var h=i[l],m=a[l],d=m.length,g=Zl(e.call(h,h&&h.__data__,l,i)),v=g.length,y=o[l]=new Array(v),S=r[l]=new Array(v),A=c[l]=new Array(d);t(h,m,y,S,A,g,n);for(var G=0,P=0,N,z;G<v;++G)if(N=y[G]){for(G>=P&&(P=G+1);!(z=S[P])&&++P<v;);N._next=z||null}}return r=new W(r,i),r._enter=o,r._exit=c,r}function Zl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qs(){return new W(this._exit||this._groups.map(Di),this._parents)}function qs(e,n,t){var i=this.enter(),a=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(a=n(a),a&&(a=a.selection())),t==null?s.remove():t(s),i&&a?i.merge(a).order():a}function Us(e){for(var n=e.selection?e.selection():e,t=this._groups,i=n._groups,a=t.length,s=i.length,r=Math.min(a,s),o=new Array(a),c=0;c<r;++c)for(var l=t[c],h=i[c],m=l.length,d=o[c]=new Array(m),g,v=0;v<m;++v)(g=l[v]||h[v])&&(d[v]=g);for(;c<a;++c)o[c]=t[c];return new W(o,this._parents)}function Ks(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var i=e[n],a=i.length-1,s=i[a],r;--a>=0;)(r=i[a])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function Js(e){e||(e=jl);function n(m,d){return m&&d?e(m.__data__,d.__data__):!m-!d}for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s){for(var r=t[s],o=r.length,c=a[s]=new Array(o),l,h=0;h<o;++h)(l=r[h])&&(c[h]=l);c.sort(n)}return new W(a,this._parents).order()}function jl(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function er(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tr(){return Array.from(this)}function ir(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],a=0,s=i.length;a<s;++a){var r=i[a];if(r)return r}return null}function nr(){let e=0;for(let n of this)++e;return e}function ar(){return!this.node()}function sr(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var a=n[t],s=0,r=a.length,o;s<r;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function Ql(e){return function(){this.removeAttribute(e)}}function ql(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ul(e,n){return function(){this.setAttribute(e,n)}}function Kl(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Jl(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function ec(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function rr(e,n){var t=Ne(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((n==null?t.local?ql:Ql:typeof n=="function"?t.local?ec:Jl:t.local?Kl:Ul)(t,n))}function Mi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tc(e){return function(){this.style.removeProperty(e)}}function ic(e,n,t){return function(){this.style.setProperty(e,n,t)}}function nc(e,n,t){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function or(e,n,t){return arguments.length>1?this.each((n==null?tc:typeof n=="function"?nc:ic)(e,n,t??"")):je(this.node(),e)}function je(e,n){return e.style.getPropertyValue(n)||Mi(e).getComputedStyle(e,null).getPropertyValue(n)}function ac(e){return function(){delete this[e]}}function sc(e,n){return function(){this[e]=n}}function rc(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function lr(e,n){return arguments.length>1?this.each((n==null?ac:typeof n=="function"?rc:sc)(e,n)):this.node()[e]}function cr(e){return e.trim().split(/^|\s+/)}function En(e){return e.classList||new hr(e)}function hr(e){this._node=e,this._names=cr(e.getAttribute("class")||"")}hr.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function dr(e,n){for(var t=En(e),i=-1,a=n.length;++i<a;)t.add(n[i])}function mr(e,n){for(var t=En(e),i=-1,a=n.length;++i<a;)t.remove(n[i])}function oc(e){return function(){dr(this,e)}}function lc(e){return function(){mr(this,e)}}function cc(e,n){return function(){(n.apply(this,arguments)?dr:mr)(this,e)}}function gr(e,n){var t=cr(e+"");if(arguments.length<2){for(var i=En(this.node()),a=-1,s=t.length;++a<s;)if(!i.contains(t[a]))return!1;return!0}return this.each((typeof n=="function"?cc:n?oc:lc)(t,n))}function hc(){this.textContent=""}function dc(e){return function(){this.textContent=e}}function mc(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function pr(e){return arguments.length?this.each(e==null?hc:(typeof e=="function"?mc:dc)(e)):this.node().textContent}function gc(){this.innerHTML=""}function pc(e){return function(){this.innerHTML=e}}function uc(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function ur(e){return arguments.length?this.each(e==null?gc:(typeof e=="function"?uc:pc)(e)):this.node().innerHTML}function fc(){this.nextSibling&&this.parentNode.appendChild(this)}function fr(){return this.each(fc)}function _c(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _r(){return this.each(_c)}function xr(e){var n=typeof e=="function"?e:Li(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function xc(){return null}function vr(e,n){var t=typeof e=="function"?e:Li(e),i=n==null?xc:typeof n=="function"?n:st(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function vc(){var e=this.parentNode;e&&e.removeChild(this)}function yr(){return this.each(vc)}function yc(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function bc(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function br(e){return this.select(e?bc:yc)}function Cr(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Cc(e){return function(n){e.call(this,n,this.__data__)}}function Tc(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function wc(e){return function(){var n=this.__on;if(n){for(var t=0,i=-1,a=n.length,s;t<a;++t)s=n[t],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):n[++i]=s;++i?n.length=i:delete this.__on}}}function kc(e,n,t){return function(){var i=this.__on,a,s=Cc(n);if(i){for(var r=0,o=i.length;r<o;++r)if((a=i[r]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=t),a.value=n;return}}this.addEventListener(e.type,s,t),a={type:e.type,name:e.name,value:n,listener:s,options:t},i?i.push(a):this.__on=[a]}}function Tr(e,n,t){var i=Tc(e+""),a,s=i.length,r;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,l=o.length,h;c<l;++c)for(a=0,h=o[c];a<s;++a)if((r=i[a]).type===h.type&&r.name===h.name)return h.value}return}for(o=n?kc:wc,a=0;a<s;++a)this.each(o(i[a],n,t));return this}function wr(e,n,t){var i=Mi(e),a=i.CustomEvent;typeof a=="function"?a=new a(n,t):(a=i.document.createEvent("Event"),t?(a.initEvent(n,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function Sc(e,n){return function(){return wr(this,e,n)}}function Lc(e,n){return function(){return wr(this,e,n.apply(this,arguments))}}function kr(e,n){return this.each((typeof n=="function"?Lc:Sc)(e,n))}function*Sr(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],a=0,s=i.length,r;a<s;++a)(r=i[a])&&(yield r)}var Fn=[null];function W(e,n){this._groups=e,this._parents=n}function Lr(){return new W([[document.documentElement]],Fn)}function Ac(){return this}W.prototype=Lr.prototype={constructor:W,select:Ns,selectAll:Hs,selectChild:$s,selectChildren:Xs,filter:Ws,data:js,enter:Ys,exit:Qs,join:qs,merge:Us,selection:Ac,order:Ks,sort:Js,call:er,nodes:tr,node:ir,size:nr,empty:ar,each:sr,attr:rr,style:or,property:lr,classed:gr,text:pr,html:ur,raise:fr,lower:_r,append:xr,insert:vr,remove:yr,clone:br,datum:Cr,on:Tr,dispatch:kr,[Symbol.iterator]:Sr};var He=Lr;function rt(e){return typeof e=="string"?new W([[document.querySelector(e)]],[document.documentElement]):new W([[e]],Fn)}var Dc={value:()=>{}};function Dr(){for(var e=0,n=arguments.length,t={},i;e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Ei(t)}function Ei(e){this._=e}function Mc(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",a=t.indexOf(".");if(a>=0&&(i=t.slice(a+1),t=t.slice(0,a)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}Ei.prototype=Dr.prototype={constructor:Ei,on:function(e,n){var t=this._,i=Mc(e+"",t),a,s=-1,r=i.length;if(arguments.length<2){for(;++s<r;)if((a=(e=i[s]).type)&&(a=Ec(t[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<r;)if(a=(e=i[s]).type)t[a]=Ar(t[a],e.name,n);else if(n==null)for(a in t)t[a]=Ar(t[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Ei(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var t=new Array(a),i=0,a,s;i<a;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,a=s.length;i<a;++i)s[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(n,t)}};function Ec(e,n){for(var t=0,i=e.length,a;t<i;++t)if((a=e[t]).name===n)return a.value}function Ar(e,n,t){for(var i=0,a=e.length;i<a;++i)if(e[i].name===n){e[i]=Dc,e=e.slice(0,i).concat(e.slice(i+1));break}return t!=null&&e.push({name:n,value:t}),e}var On=Dr;function Fi(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function In(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function $t(){}var Nt=.7,Vi=1/Nt,xt="\\s*([+-]?\\d+)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fc=/^#([0-9a-f]{3,8})$/,Oc=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),Ic=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),Vc=new RegExp(`^rgba\\(${xt},${xt},${xt},${Ht}\\)$`),zc=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${Ht}\\)$`),Pc=new RegExp(`^hsl\\(${Ht},${Fe},${Fe}\\)$`),Rc=new RegExp(`^hsla\\(${Ht},${Fe},${Fe},${Ht}\\)$`),Mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fi($t,ke,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Er,formatHex:Er,formatHex8:Bc,formatHsl:Gc,formatRgb:Fr,toString:Fr});function Er(){return this.rgb().formatHex()}function Bc(){return this.rgb().formatHex8()}function Gc(){return Rr(this).formatHsl()}function Fr(){return this.rgb().formatRgb()}function ke(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Fc.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Or(n):t===3?new ge(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Oi(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Oi(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Oc.exec(e))?new ge(n[1],n[2],n[3],1):(n=Ic.exec(e))?new ge(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Vc.exec(e))?Oi(n[1],n[2],n[3],n[4]):(n=zc.exec(e))?Oi(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Pc.exec(e))?zr(n[1],n[2]/100,n[3]/100,1):(n=Rc.exec(e))?zr(n[1],n[2]/100,n[3]/100,n[4]):Mr.hasOwnProperty(e)?Or(Mr[e]):e==="transparent"?new ge(NaN,NaN,NaN,0):null}function Or(e){return new ge(e>>16&255,e>>8&255,e&255,1)}function Oi(e,n,t,i){return i<=0&&(e=n=t=NaN),new ge(e,n,t,i)}function Nc(e){return e instanceof $t||(e=ke(e)),e?(e=e.rgb(),new ge(e.r,e.g,e.b,e.opacity)):new ge}function vt(e,n,t,i){return arguments.length===1?Nc(e):new ge(e,n,t,i??1)}function ge(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}Fi(ge,vt,In($t,{brighter(e){return e=e==null?Vi:Math.pow(Vi,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nt:Math.pow(Nt,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ge(lt(this.r),lt(this.g),lt(this.b),zi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ir,formatHex:Ir,formatHex8:Hc,formatRgb:Vr,toString:Vr}));function Ir(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function Hc(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vr(){let e=zi(this.opacity);return`${e===1?"rgb(":"rgba("}${lt(this.r)}, ${lt(this.g)}, ${lt(this.b)}${e===1?")":`, ${e})`}`}function zi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ot(e){return e=lt(e),(e<16?"0":"")+e.toString(16)}function zr(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new we(e,n,t,i)}function Rr(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof $t||(e=ke(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var n=e.r/255,t=e.g/255,i=e.b/255,a=Math.min(n,t,i),s=Math.max(n,t,i),r=NaN,o=s-a,c=(s+a)/2;return o?(n===s?r=(t-i)/o+(t<i)*6:t===s?r=(i-n)/o+2:r=(n-t)/o+4,o/=c<.5?s+a:2-s-a,r*=60):o=c>0&&c<1?0:r,new we(r,o,c,e.opacity)}function Br(e,n,t,i){return arguments.length===1?Rr(e):new we(e,n,t,i??1)}function we(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}Fi(we,Br,In($t,{brighter(e){return e=e==null?Vi:Math.pow(Vi,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nt:Math.pow(Nt,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,a=2*t-i;return new ge(Vn(e>=240?e-240:e+120,a,i),Vn(e,a,i),Vn(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new we(Pr(this.h),Ii(this.s),Ii(this.l),zi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=zi(this.opacity);return`${e===1?"hsl(":"hsla("}${Pr(this.h)}, ${Ii(this.s)*100}%, ${Ii(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pr(e){return e=(e||0)%360,e<0?e+360:e}function Ii(e){return Math.max(0,Math.min(1,e||0))}function Vn(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}function zn(e,n,t,i,a){var s=e*e,r=s*e;return((1-3*e+3*s-r)*n+(4-6*s+3*r)*t+(1+3*e+3*s-3*r)*i+r*a)/6}function Gr(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),a=e[i],s=e[i+1],r=i>0?e[i-1]:2*a-s,o=i<n-1?e[i+2]:2*s-a;return zn((t-i/n)*n,r,a,s,o)}}function Nr(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),a=e[(i+n-1)%n],s=e[i%n],r=e[(i+1)%n],o=e[(i+2)%n];return zn((t-i/n)*n,a,s,r,o)}}var Xt=e=>()=>e;function $c(e,n){return function(t){return e+t*n}}function Xc(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}function Hr(e){return(e=+e)==1?Pi:function(n,t){return t-n?Xc(n,t,e):Xt(isNaN(n)?t:n)}}function Pi(e,n){var t=n-e;return t?$c(e,t):Xt(isNaN(e)?n:e)}var ct=function e(n){var t=Hr(n);function i(a,s){var r=t((a=vt(a)).r,(s=vt(s)).r),o=t(a.g,s.g),c=t(a.b,s.b),l=Pi(a.opacity,s.opacity);return function(h){return a.r=r(h),a.g=o(h),a.b=c(h),a.opacity=l(h),a+""}}return i.gamma=e,i}(1);function $r(e){return function(n){var t=n.length,i=new Array(t),a=new Array(t),s=new Array(t),r,o;for(r=0;r<t;++r)o=vt(n[r]),i[r]=o.r||0,a[r]=o.g||0,s[r]=o.b||0;return i=e(i),a=e(a),s=e(s),o.opacity=1,function(c){return o.r=i(c),o.g=a(c),o.b=s(c),o+""}}}var Wc=$r(Gr),Yc=$r(Nr);function Xr(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,i=n.slice(),a;return function(s){for(a=0;a<t;++a)i[a]=e[a]*(1-s)+n[a]*s;return i}}function Wr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yr(e,n){var t=n?n.length:0,i=e?Math.min(t,e.length):0,a=new Array(i),s=new Array(t),r;for(r=0;r<i;++r)a[r]=Se(e[r],n[r]);for(;r<t;++r)s[r]=n[r];return function(o){for(r=0;r<i;++r)s[r]=a[r](o);return s}}function Zr(e,n){var t=new Date;return e=+e,n=+n,function(i){return t.setTime(e*(1-i)+n*i),t}}function J(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function jr(e,n){var t={},i={},a;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(a in n)a in e?t[a]=Se(e[a],n[a]):i[a]=n[a];return function(s){for(a in t)i[a]=t[a](s);return i}}var Rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pn=new RegExp(Rn.source,"g");function Zc(e){return function(){return e}}function jc(e){return function(n){return e(n)+""}}function Wt(e,n){var t=Rn.lastIndex=Pn.lastIndex=0,i,a,s,r=-1,o=[],c=[];for(e=e+"",n=n+"";(i=Rn.exec(e))&&(a=Pn.exec(n));)(s=a.index)>t&&(s=n.slice(t,s),o[r]?o[r]+=s:o[++r]=s),(i=i[0])===(a=a[0])?o[r]?o[r]+=a:o[++r]=a:(o[++r]=null,c.push({i:r,x:J(i,a)})),t=Pn.lastIndex;return t<n.length&&(s=n.slice(t),o[r]?o[r]+=s:o[++r]=s),o.length<2?c[0]?jc(c[0].x):Zc(n):(n=c.length,function(l){for(var h=0,m;h<n;++h)o[(m=c[h]).i]=m.x(l);return o.join("")})}function Se(e,n){var t=typeof n,i;return n==null||t==="boolean"?Xt(n):(t==="number"?J:t==="string"?(i=ke(n))?(n=i,ct):Wt:n instanceof ke?ct:n instanceof Date?Zr:Wr(n)?Xr:Array.isArray(n)?Yr:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?jr:J)(e,n)}function Bn(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Qr=180/Math.PI,Ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gn(e,n,t,i,a,s){var r,o,c;return(r=Math.sqrt(e*e+n*n))&&(e/=r,n/=r),(c=e*t+n*i)&&(t-=e*c,i-=n*c),(o=Math.sqrt(t*t+i*i))&&(t/=o,i/=o,c/=o),e*i<n*t&&(e=-e,n=-n,c=-c,r=-r),{translateX:a,translateY:s,rotate:Math.atan2(n,e)*Qr,skewX:Math.atan(c)*Qr,scaleX:r,scaleY:o}}var Bi;function qr(e){let n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Ri:Gn(n.a,n.b,n.c,n.d,n.e,n.f)}function Ur(e){return e==null?Ri:(Bi||(Bi=document.createElementNS("http://www.w3.org/2000/svg","g")),Bi.setAttribute("transform",e),(e=Bi.transform.baseVal.consolidate())?(e=e.matrix,Gn(e.a,e.b,e.c,e.d,e.e,e.f)):Ri)}function Kr(e,n,t,i){function a(l){return l.length?l.pop()+" ":""}function s(l,h,m,d,g,v){if(l!==m||h!==d){var y=g.push("translate(",null,n,null,t);v.push({i:y-4,x:J(l,m)},{i:y-2,x:J(h,d)})}else(m||d)&&g.push("translate("+m+n+d+t)}function r(l,h,m,d){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),d.push({i:m.push(a(m)+"rotate(",null,i)-2,x:J(l,h)})):h&&m.push(a(m)+"rotate("+h+i)}function o(l,h,m,d){l!==h?d.push({i:m.push(a(m)+"skewX(",null,i)-2,x:J(l,h)}):h&&m.push(a(m)+"skewX("+h+i)}function c(l,h,m,d,g,v){if(l!==m||h!==d){var y=g.push(a(g)+"scale(",null,",",null,")");v.push({i:y-4,x:J(l,m)},{i:y-2,x:J(h,d)})}else(m!==1||d!==1)&&g.push(a(g)+"scale("+m+","+d+")")}return function(l,h){var m=[],d=[];return l=e(l),h=e(h),s(l.translateX,l.translateY,h.translateX,h.translateY,m,d),r(l.rotate,h.rotate,m,d),o(l.skewX,h.skewX,m,d),c(l.scaleX,l.scaleY,h.scaleX,h.scaleY,m,d),l=h=null,function(g){for(var v=-1,y=d.length,S;++v<y;)m[(S=d[v]).i]=S.x(g);return m.join("")}}}var Nn=Kr(qr,"px, ","px)","deg)"),Hn=Kr(Ur,", ",")",")");var yt=0,Zt=0,Yt=0,eo=1e3,Gi,jt,Ni=0,ht=0,Hi=0,Qt=typeof performance=="object"&&performance.now?performance:Date,to=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ut(){return ht||(to(Qc),ht=Qt.now()+Hi)}function Qc(){ht=0}function qt(){this._call=this._time=this._next=null}qt.prototype=$i.prototype={constructor:qt,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ut():+t)+(n==null?0:+n),!this._next&&jt!==this&&(jt?jt._next=this:Gi=this,jt=this),this._call=e,this._time=t,$n()},stop:function(){this._call&&(this._call=null,this._time=1/0,$n())}};function $i(e,n,t){var i=new qt;return i.restart(e,n,t),i}function io(){Ut(),++yt;for(var e=Gi,n;e;)(n=ht-e._time)>=0&&e._call.call(void 0,n),e=e._next;--yt}function Jr(){ht=(Ni=Qt.now())+Hi,yt=Zt=0;try{io()}finally{yt=0,Uc(),ht=0}}function qc(){var e=Qt.now(),n=e-Ni;n>eo&&(Hi-=n,Ni=e)}function Uc(){for(var e,n=Gi,t,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Gi=t);jt=e,$n(i)}function $n(e){if(!yt){Zt&&(Zt=clearTimeout(Zt));var n=e-ht;n>24?(e<1/0&&(Zt=setTimeout(Jr,e-Qt.now()-Hi)),Yt&&(Yt=clearInterval(Yt))):(Yt||(Ni=Qt.now(),Yt=setInterval(qc,eo)),yt=1,to(Jr))}}function Xi(e,n,t){var i=new qt;return n=n==null?0:+n,i.restart(a=>{i.stop(),e(a+n)},n,t),i}var Kc=On("start","end","cancel","interrupt"),Jc=[],so=0,no=1,Yi=2,Wi=3,ao=4,Zi=5,Kt=6;function Qe(e,n,t,i,a,s){var r=e.__transition;if(!r)e.__transition={};else if(t in r)return;eh(e,t,{name:n,index:i,group:a,on:Kc,tween:Jc,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:so})}function Jt(e,n){var t=q(e,n);if(t.state>so)throw new Error("too late; already scheduled");return t}function ee(e,n){var t=q(e,n);if(t.state>Wi)throw new Error("too late; already running");return t}function q(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function eh(e,n,t){var i=e.__transition,a;i[n]=t,t.timer=$i(s,0,t.time);function s(l){t.state=no,t.timer.restart(r,t.delay,t.time),t.delay<=l&&r(l-t.delay)}function r(l){var h,m,d,g;if(t.state!==no)return c();for(h in i)if(g=i[h],g.name===t.name){if(g.state===Wi)return Xi(r);g.state===ao?(g.state=Kt,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[h]):+h<n&&(g.state=Kt,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[h])}if(Xi(function(){t.state===Wi&&(t.state=ao,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Yi,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Yi){for(t.state=Wi,a=new Array(d=t.tween.length),h=0,m=-1;h<d;++h)(g=t.tween[h].value.call(e,e.__data__,t.index,t.group))&&(a[++m]=g);a.length=m+1}}function o(l){for(var h=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(c),t.state=Zi,1),m=-1,d=a.length;++m<d;)a[m].call(e,h);t.state===Zi&&(t.on.call("end",e,e.__data__,t.index,t.group),c())}function c(){t.state=Kt,t.timer.stop(),delete i[n];for(var l in i)return;delete e.__transition}}function Xn(e,n){var t=e.__transition,i,a,s=!0,r;if(t){n=n==null?null:n+"";for(r in t){if((i=t[r]).name!==n){s=!1;continue}a=i.state>Yi&&i.state<Zi,i.state=Kt,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[r]}s&&delete e.__transition}}function ro(e){return this.each(function(){Xn(this,e)})}function th(e,n){var t,i;return function(){var a=ee(this,e),s=a.tween;if(s!==t){i=t=s;for(var r=0,o=i.length;r<o;++r)if(i[r].name===n){i=i.slice(),i.splice(r,1);break}}a.tween=i}}function ih(e,n,t){var i,a;if(typeof t!="function")throw new Error;return function(){var s=ee(this,e),r=s.tween;if(r!==i){a=(i=r).slice();for(var o={name:n,value:t},c=0,l=a.length;c<l;++c)if(a[c].name===n){a[c]=o;break}c===l&&a.push(o)}s.tween=a}}function oo(e,n){var t=this._id;if(e+="",arguments.length<2){for(var i=q(this.node(),t).tween,a=0,s=i.length,r;a<s;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((n==null?th:ih)(t,e,n))}function bt(e,n,t){var i=e._id;return e.each(function(){var a=ee(this,i);(a.value||(a.value={}))[n]=t.apply(this,arguments)}),function(a){return q(a,i).value[n]}}function ji(e,n){var t;return(typeof n=="number"?J:n instanceof ke?ct:(t=ke(n))?(n=t,ct):Wt)(e,n)}function nh(e){return function(){this.removeAttribute(e)}}function ah(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sh(e,n,t){var i,a=t+"",s;return function(){var r=this.getAttribute(e);return r===a?null:r===i?s:s=n(i=r,t)}}function rh(e,n,t){var i,a=t+"",s;return function(){var r=this.getAttributeNS(e.space,e.local);return r===a?null:r===i?s:s=n(i=r,t)}}function oh(e,n,t){var i,a,s;return function(){var r,o=t(this),c;return o==null?void this.removeAttribute(e):(r=this.getAttribute(e),c=o+"",r===c?null:r===i&&c===a?s:(a=c,s=n(i=r,o)))}}function lh(e,n,t){var i,a,s;return function(){var r,o=t(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),c=o+"",r===c?null:r===i&&c===a?s:(a=c,s=n(i=r,o)))}}function lo(e,n){var t=Ne(e),i=t==="transform"?Hn:ji;return this.attrTween(e,typeof n=="function"?(t.local?lh:oh)(t,i,bt(this,"attr."+e,n)):n==null?(t.local?ah:nh)(t):(t.local?rh:sh)(t,i,n))}function ch(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function hh(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function dh(e,n){var t,i;function a(){var s=n.apply(this,arguments);return s!==i&&(t=(i=s)&&hh(e,s)),t}return a._value=n,a}function mh(e,n){var t,i;function a(){var s=n.apply(this,arguments);return s!==i&&(t=(i=s)&&ch(e,s)),t}return a._value=n,a}function co(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var i=Ne(e);return this.tween(t,(i.local?dh:mh)(i,n))}function gh(e,n){return function(){Jt(this,e).delay=+n.apply(this,arguments)}}function ph(e,n){return n=+n,function(){Jt(this,e).delay=n}}function ho(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?gh:ph)(n,e)):q(this.node(),n).delay}function uh(e,n){return function(){ee(this,e).duration=+n.apply(this,arguments)}}function fh(e,n){return n=+n,function(){ee(this,e).duration=n}}function mo(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?uh:fh)(n,e)):q(this.node(),n).duration}function _h(e,n){if(typeof n!="function")throw new Error;return function(){ee(this,e).ease=n}}function go(e){var n=this._id;return arguments.length?this.each(_h(n,e)):q(this.node(),n).ease}function xh(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;ee(this,e).ease=t}}function po(e){if(typeof e!="function")throw new Error;return this.each(xh(this._id,e))}function uo(e){typeof e!="function"&&(e=Bt(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var s=n[a],r=s.length,o=i[a]=[],c,l=0;l<r;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&o.push(c);return new se(i,this._parents,this._name,this._id)}function fo(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,a=t.length,s=Math.min(i,a),r=new Array(i),o=0;o<s;++o)for(var c=n[o],l=t[o],h=c.length,m=r[o]=new Array(h),d,g=0;g<h;++g)(d=c[g]||l[g])&&(m[g]=d);for(;o<i;++o)r[o]=n[o];return new se(r,this._parents,this._name,this._id)}function vh(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function yh(e,n,t){var i,a,s=vh(n)?Jt:ee;return function(){var r=s(this,e),o=r.on;o!==i&&(a=(i=o).copy()).on(n,t),r.on=a}}function _o(e,n){var t=this._id;return arguments.length<2?q(this.node(),t).on.on(e):this.each(yh(t,e,n))}function bh(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function xo(){return this.on("end.remove",bh(this._id))}function vo(e){var n=this._name,t=this._id;typeof e!="function"&&(e=st(e));for(var i=this._groups,a=i.length,s=new Array(a),r=0;r<a;++r)for(var o=i[r],c=o.length,l=s[r]=new Array(c),h,m,d=0;d<c;++d)(h=o[d])&&(m=e.call(h,h.__data__,d,o))&&("__data__"in h&&(m.__data__=h.__data__),l[d]=m,Qe(l[d],n,t,d,l,q(h,t)));return new se(s,this._parents,n,t)}function yo(e){var n=this._name,t=this._id;typeof e!="function"&&(e=Rt(e));for(var i=this._groups,a=i.length,s=[],r=[],o=0;o<a;++o)for(var c=i[o],l=c.length,h,m=0;m<l;++m)if(h=c[m]){for(var d=e.call(h,h.__data__,m,c),g,v=q(h,t),y=0,S=d.length;y<S;++y)(g=d[y])&&Qe(g,n,t,y,d,v);s.push(d),r.push(h)}return new se(s,r,n,t)}var Ch=He.prototype.constructor;function bo(){return new Ch(this._groups,this._parents)}function Th(e,n){var t,i,a;return function(){var s=je(this,e),r=(this.style.removeProperty(e),je(this,e));return s===r?null:s===t&&r===i?a:a=n(t=s,i=r)}}function Co(e){return function(){this.style.removeProperty(e)}}function wh(e,n,t){var i,a=t+"",s;return function(){var r=je(this,e);return r===a?null:r===i?s:s=n(i=r,t)}}function kh(e,n,t){var i,a,s;return function(){var r=je(this,e),o=t(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),je(this,e))),r===c?null:r===i&&c===a?s:(a=c,s=n(i=r,o))}}function Sh(e,n){var t,i,a,s="style."+n,r="end."+s,o;return function(){var c=ee(this,e),l=c.on,h=c.value[s]==null?o||(o=Co(n)):void 0;(l!==t||a!==h)&&(i=(t=l).copy()).on(r,a=h),c.on=i}}function To(e,n,t){var i=(e+="")=="transform"?Nn:ji;return n==null?this.styleTween(e,Th(e,i)).on("end.style."+e,Co(e)):typeof n=="function"?this.styleTween(e,kh(e,i,bt(this,"style."+e,n))).each(Sh(this._id,e)):this.styleTween(e,wh(e,i,n),t).on("end.style."+e,null)}function Lh(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function Ah(e,n,t){var i,a;function s(){var r=n.apply(this,arguments);return r!==a&&(i=(a=r)&&Lh(e,r,t)),i}return s._value=n,s}function wo(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Ah(e,n,t??""))}function Dh(e){return function(){this.textContent=e}}function Mh(e){return function(){var n=e(this);this.textContent=n??""}}function ko(e){return this.tween("text",typeof e=="function"?Mh(bt(this,"text",e)):Dh(e==null?"":e+""))}function Eh(e){return function(n){this.textContent=e.call(this,n)}}function Fh(e){var n,t;function i(){var a=e.apply(this,arguments);return a!==t&&(n=(t=a)&&Eh(a)),n}return i._value=e,i}function So(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Fh(e))}function Lo(){for(var e=this._name,n=this._id,t=Qi(),i=this._groups,a=i.length,s=0;s<a;++s)for(var r=i[s],o=r.length,c,l=0;l<o;++l)if(c=r[l]){var h=q(c,n);Qe(c,e,t,l,r,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new se(i,this._parents,e,t)}function Ao(){var e,n,t=this,i=t._id,a=t.size();return new Promise(function(s,r){var o={value:r},c={value:function(){--a===0&&s()}};t.each(function(){var l=ee(this,i),h=l.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(o),n._.interrupt.push(o),n._.end.push(c)),l.on=n}),a===0&&s()})}var Oh=0;function se(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function Do(e){return He().transition(e)}function Qi(){return++Oh}var $e=He.prototype;se.prototype=Do.prototype={constructor:se,select:vo,selectAll:yo,selectChild:$e.selectChild,selectChildren:$e.selectChildren,filter:uo,merge:fo,selection:bo,transition:Lo,call:$e.call,nodes:$e.nodes,node:$e.node,size:$e.size,empty:$e.empty,each:$e.each,on:_o,attr:lo,attrTween:co,style:To,styleTween:wo,text:ko,textTween:So,remove:xo,tween:oo,delay:ho,duration:mo,ease:go,easeVarying:po,end:Ao,[Symbol.iterator]:$e[Symbol.iterator]};function qi(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ih={time:null,delay:0,duration:250,ease:qi};function Vh(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function Mo(e){var n,t;e instanceof se?(n=e._id,e=e._name):(n=Qi(),(t=Ih).time=Ut(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var r=i[s],o=r.length,c,l=0;l<o;++l)(c=r[l])&&Qe(c,e,n,l,r,t||Vh(c,n));return new se(i,this._parents,e,n)}He.prototype.interrupt=ro;He.prototype.transition=Mo;var{abs:hx,max:dx,min:mx}=Math;function Eo(e){return[+e[0],+e[1]]}function zh(e){return[Eo(e[0]),Eo(e[1])]}var gx={name:"x",handles:["w","e"].map(Wn),input:function(e,n){return e==null?null:[[+e[0],n[0][1]],[+e[1],n[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},px={name:"y",handles:["n","s"].map(Wn),input:function(e,n){return e==null?null:[[n[0][0],+e[0]],[n[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},ux={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wn),input:function(e){return e==null?null:zh(e)},output:function(e){return e}};function Wn(e){return{type:e}}function Oe(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Yn(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Ui(e){let n,t,i;e.length!==2?(n=Oe,t=(o,c)=>Oe(e(o),c),i=(o,c)=>e(o)-c):(n=e===Oe||e===Yn?e:Rh,t=e,i=e);function a(o,c,l=0,h=o.length){if(l<h){if(n(c,c)!==0)return h;do{let m=l+h>>>1;t(o[m],c)<0?l=m+1:h=m}while(l<h)}return l}function s(o,c,l=0,h=o.length){if(l<h){if(n(c,c)!==0)return h;do{let m=l+h>>>1;t(o[m],c)<=0?l=m+1:h=m}while(l<h)}return l}function r(o,c,l=0,h=o.length){let m=a(o,c,l,h-1);return m>l&&i(o[m-1],c)>-i(o[m],c)?m-1:m}return{left:a,center:r,right:s}}function Rh(){return 0}function ei(e){return e===null?NaN:+e}var Fo=Ui(Oe),Oo=Fo.right,Bh=Fo.left,Gh=Ui(ei).center,ti=Oo;var Ct=class extends Map{constructor(n,t=$h){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(let[i,a]of n)this.set(i,a)}get(n){return super.get(Io(this,n))}has(n){return super.has(Io(this,n))}set(n,t){return super.set(Nh(this,n),t)}delete(n){return super.delete(Hh(this,n))}};function Io({_intern:e,_key:n},t){let i=n(t);return e.has(i)?e.get(i):t}function Nh({_intern:e,_key:n},t){let i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}function Hh({_intern:e,_key:n},t){let i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}function $h(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Xh=Math.sqrt(50),Wh=Math.sqrt(10),Yh=Math.sqrt(2);function Ki(e,n,t){let i=(n-e)/Math.max(0,t),a=Math.floor(Math.log10(i)),s=i/Math.pow(10,a),r=s>=Xh?10:s>=Wh?5:s>=Yh?2:1,o,c,l;return a<0?(l=Math.pow(10,-a)/r,o=Math.round(e*l),c=Math.round(n*l),o/l<e&&++o,c/l>n&&--c,l=-l):(l=Math.pow(10,a)*r,o=Math.round(e/l),c=Math.round(n/l),o*l<e&&++o,c*l>n&&--c),c<o&&.5<=t&&t<2?Ki(e,n,t*2):[o,c,l]}function Ji(e,n,t){if(n=+n,e=+e,t=+t,!(t>0))return[];if(e===n)return[e];let i=n<e,[a,s,r]=i?Ki(n,e,t):Ki(e,n,t);if(!(s>=a))return[];let o=s-a+1,c=new Array(o);if(i)if(r<0)for(let l=0;l<o;++l)c[l]=(s-l)/-r;else for(let l=0;l<o;++l)c[l]=(s-l)*r;else if(r<0)for(let l=0;l<o;++l)c[l]=(a+l)/-r;else for(let l=0;l<o;++l)c[l]=(a+l)*r;return c}function ii(e,n,t){return n=+n,e=+e,t=+t,Ki(e,n,t)[2]}function Zn(e,n,t){n=+n,e=+e,t=+t;let i=n<e,a=i?ii(n,e,t):ii(e,n,t);return(i?-1:1)*(a<0?1/-a:a)}function en(e,n){let t;if(n===void 0)for(let i of e)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(t<a||t===void 0&&a>=a)&&(t=a)}return t}function jn(e,n,t=ei){if(!(!(i=e.length)||isNaN(n=+n))){if(n<=0||i<2)return+t(e[0],0,e);if(n>=1)return+t(e[i-1],i-1,e);var i,a=(i-1)*n,s=Math.floor(a),r=+t(e[s],s,e),o=+t(e[s+1],s+1,e);return r+(o-r)*(a-s)}}function Tt(e,n,t){e=+e,n=+n,t=(a=arguments.length)<2?(n=e,e=0,1):a<3?1:+t;for(var i=-1,a=Math.max(0,Math.ceil((n-e)/t))|0,s=new Array(a);++i<a;)s[i]=e+i*t;return s}function qe(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}var Qn=Symbol("implicit");function dt(){var e=new Ct,n=[],t=[],i=Qn;function a(s){let r=e.get(s);if(r===void 0){if(i!==Qn)return i;e.set(s,r=n.push(s)-1)}return t[r%t.length]}return a.domain=function(s){if(!arguments.length)return n.slice();n=[],e=new Ct;for(let r of s)e.has(r)||e.set(r,n.push(r)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return dt(n,t).unknown(i)},qe.apply(a,arguments),a}function wt(){var e=dt().unknown(void 0),n=e.domain,t=e.range,i=0,a=1,s,r,o=!1,c=0,l=0,h=.5;delete e.unknown;function m(){var d=n().length,g=a<i,v=g?a:i,y=g?i:a;s=(y-v)/Math.max(1,d-c+l*2),o&&(s=Math.floor(s)),v+=(y-v-s*(d-c))*h,r=s*(1-c),o&&(v=Math.round(v),r=Math.round(r));var S=Tt(d).map(function(A){return v+s*A});return t(g?S.reverse():S)}return e.domain=function(d){return arguments.length?(n(d),m()):n()},e.range=function(d){return arguments.length?([i,a]=d,i=+i,a=+a,m()):[i,a]},e.rangeRound=function(d){return[i,a]=d,i=+i,a=+a,o=!0,m()},e.bandwidth=function(){return r},e.step=function(){return s},e.round=function(d){return arguments.length?(o=!!d,m()):o},e.padding=function(d){return arguments.length?(c=Math.min(1,l=+d),m()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),m()):c},e.paddingOuter=function(d){return arguments.length?(l=+d,m()):l},e.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),m()):h},e.copy=function(){return wt(n(),[i,a]).round(o).paddingInner(c).paddingOuter(l).align(h)},qe.apply(m(),arguments)}function qn(e){return function(){return e}}function Un(e){return+e}var Vo=[0,1];function kt(e){return e}function Kn(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:qn(isNaN(n)?NaN:.5)}function jh(e,n){var t;return e>n&&(t=e,e=n,n=t),function(i){return Math.max(e,Math.min(n,i))}}function Qh(e,n,t){var i=e[0],a=e[1],s=n[0],r=n[1];return a<i?(i=Kn(a,i),s=t(r,s)):(i=Kn(i,a),s=t(s,r)),function(o){return s(i(o))}}function qh(e,n,t){var i=Math.min(e.length,n.length)-1,a=new Array(i),s=new Array(i),r=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++r<i;)a[r]=Kn(e[r],e[r+1]),s[r]=t(n[r],n[r+1]);return function(o){var c=ti(e,o,1,i)-1;return s[c](a[c](o))}}function zo(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uh(){var e=Vo,n=Vo,t=Se,i,a,s,r=kt,o,c,l;function h(){var d=Math.min(e.length,n.length);return r!==kt&&(r=jh(e[0],e[d-1])),o=d>2?qh:Qh,c=l=null,m}function m(d){return d==null||isNaN(d=+d)?s:(c||(c=o(e.map(i),n,t)))(i(r(d)))}return m.invert=function(d){return r(a((l||(l=o(n,e.map(i),J)))(d)))},m.domain=function(d){return arguments.length?(e=Array.from(d,Un),h()):e.slice()},m.range=function(d){return arguments.length?(n=Array.from(d),h()):n.slice()},m.rangeRound=function(d){return n=Array.from(d),t=Bn,h()},m.clamp=function(d){return arguments.length?(r=d?!0:kt,h()):r!==kt},m.interpolate=function(d){return arguments.length?(t=d,h()):t},m.unknown=function(d){return arguments.length?(s=d,m):s},function(d,g){return i=d,a=g,h()}}function Jn(){return Uh()(kt,kt)}function Po(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mt(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function Ie(e){return e=mt(Math.abs(e)),e?e[1]:NaN}function Ro(e,n){return function(t,i){for(var a=t.length,s=[],r=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>i&&(o=Math.max(1,i-c)),s.push(t.substring(a-=o,a+o)),!((c+=o+1)>i));)o=e[r=(r+1)%e.length];return s.reverse().join(n)}}function Bo(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var Kh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ue(e){if(!(n=Kh.exec(e)))throw new Error("invalid format: "+e);var n;return new tn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Ue.prototype=tn.prototype;function tn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Go(e){e:for(var n=e.length,t=1,i=-1,a;t<n;++t)switch(e[t]){case".":i=a=t;break;case"0":i===0&&(i=t),a=t;break;default:if(!+e[t])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(a+1):e}var ea;function No(e,n){var t=mt(e,n);if(!t)return e+"";var i=t[0],a=t[1],s=a-(ea=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,r=i.length;return s===r?i:s>r?i+new Array(s-r+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+mt(e,Math.max(0,n+s-1))[0]}function ta(e,n){var t=mt(e,n);if(!t)return e+"";var i=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}var ia={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Po,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>ta(e*100,n),r:ta,s:No,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function na(e){return e}var Ho=Array.prototype.map,$o=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Xo(e){var n=e.grouping===void 0||e.thousands===void 0?na:Ro(Ho.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?na:Bo(Ho.call(e.numerals,String)),r=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(m){m=Ue(m);var d=m.fill,g=m.align,v=m.sign,y=m.symbol,S=m.zero,A=m.width,G=m.comma,P=m.precision,N=m.trim,z=m.type;z==="n"?(G=!0,z="g"):ia[z]||(P===void 0&&(P=12),N=!0,z="g"),(S||d==="0"&&g==="=")&&(S=!0,d="0",g="=");var ne=y==="$"?t:y==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",Ae=y==="$"?i:/[%p]/.test(z)?r:"",xe=ia[z],De=/[defgprs%]/.test(z);P=P===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function pe(L){var Z=ne,T=Ae,E,Me,Ve;if(z==="c")T=xe(L)+T,L="";else{L=+L;var ve=L<0||1/L<0;if(L=isNaN(L)?c:xe(Math.abs(L),P),N&&(L=Go(L)),ve&&+L==0&&v!=="+"&&(ve=!1),Z=(ve?v==="("?v:o:v==="-"||v==="("?"":v)+Z,T=(z==="s"?$o[8+ea/3]:"")+T+(ve&&v==="("?")":""),De){for(E=-1,Me=L.length;++E<Me;)if(Ve=L.charCodeAt(E),48>Ve||Ve>57){T=(Ve===46?a+L.slice(E+1):L.slice(E))+T,L=L.slice(0,E);break}}}G&&!S&&(L=n(L,1/0));var ye=Z.length+L.length+T.length,le=ye<A?new Array(A-ye+1).join(d):"";switch(G&&S&&(L=n(le+L,le.length?A-T.length:1/0),le=""),g){case"<":L=Z+L+T+le;break;case"=":L=Z+le+L+T;break;case"^":L=le.slice(0,ye=le.length>>1)+Z+L+T+le.slice(ye);break;default:L=le+Z+L+T;break}return s(L)}return pe.toString=function(){return m+""},pe}function h(m,d){var g=l((m=Ue(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Ie(d)/3)))*3,y=Math.pow(10,-v),S=$o[8+v/3];return function(A){return g(y*A)+S}}return{format:l,formatPrefix:h}}var nn,an,sn;aa({thousands:",",grouping:[3],currency:["$",""]});function aa(e){return nn=Xo(e),an=nn.format,sn=nn.formatPrefix,nn}function sa(e){return Math.max(0,-Ie(Math.abs(e)))}function ra(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ie(n)/3)))*3-Ie(Math.abs(e)))}function oa(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Ie(n)-Ie(e))+1}function la(e,n,t,i){var a=Zn(e,n,t),s;switch(i=Ue(i??",f"),i.type){case"s":{var r=Math.max(Math.abs(e),Math.abs(n));return i.precision==null&&!isNaN(s=ra(a,r))&&(i.precision=s),sn(i,r)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=oa(a,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=sa(a))&&(i.precision=s-(i.type==="%")*2);break}}return an(i)}function Jh(e){var n=e.domain;return e.ticks=function(t){var i=n();return Ji(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var a=n();return la(a[0],a[a.length-1],t??10,i)},e.nice=function(t){t==null&&(t=10);var i=n(),a=0,s=i.length-1,r=i[a],o=i[s],c,l,h=10;for(o<r&&(l=r,r=o,o=l,l=a,a=s,s=l);h-- >0;){if(l=ii(r,o,t),l===c)return i[a]=r,i[s]=o,n(i);if(l>0)r=Math.floor(r/l)*l,o=Math.ceil(o/l)*l;else if(l<0)r=Math.ceil(r*l)/l,o=Math.floor(o*l)/l;else break;c=l}return e},e}function Ke(){var e=Jn();return e.copy=function(){return zo(e,Ke())},qe.apply(e,arguments),Jh(e)}function ni(){var e=[],n=[],t=[],i;function a(){var r=0,o=Math.max(1,n.length);for(t=new Array(o-1);++r<o;)t[r-1]=jn(e,r/o);return s}function s(r){return r==null||isNaN(r=+r)?i:n[ti(t,r)]}return s.invertExtent=function(r){var o=n.indexOf(r);return o<0?[NaN,NaN]:[o>0?t[o-1]:e[0],o<t.length?t[o]:e[e.length-1]]},s.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Oe),a()},s.range=function(r){return arguments.length?(n=Array.from(r),a()):n.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return ni().domain(e).range(n).unknown(i)},qe.apply(s,arguments)}function te(e){return function(){return e}}var ca=Math.abs,ie=Math.atan2,Je=Math.cos,Wo=Math.max,rn=Math.min,Le=Math.sin,gt=Math.sqrt,re=1e-12,St=Math.PI,ai=St/2,Lt=2*St;function Yo(e){return e>1?0:e<-1?St:Math.acos(e)}function ha(e){return e>=1?ai:e<=-1?-ai:Math.asin(e)}var da=Math.PI,ma=2*da,pt=1e-6,td=ma-pt;function Zo(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function id(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Zo;let t=10**n;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}var ut=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Zo:id(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,i,a){this._append`Q${+n},${+t},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(n,t,i,a,s,r){this._append`C${+n},${+t},${+i},${+a},${this._x1=+s},${this._y1=+r}`}arcTo(n,t,i,a,s){if(n=+n,t=+t,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let r=this._x1,o=this._y1,c=i-n,l=a-t,h=r-n,m=o-t,d=h*h+m*m;if(this._x1===null)this._append`M${this._x1=n},${this._y1=t}`;else if(d>pt)if(!(Math.abs(m*c-l*h)>pt)||!s)this._append`L${this._x1=n},${this._y1=t}`;else{let g=i-r,v=a-o,y=c*c+l*l,S=g*g+v*v,A=Math.sqrt(y),G=Math.sqrt(d),P=s*Math.tan((da-Math.acos((y+d-S)/(2*A*G)))/2),N=P/G,z=P/A;Math.abs(N-1)>pt&&this._append`L${n+N*h},${t+N*m}`,this._append`A${s},${s},0,0,${+(m*g>h*v)},${this._x1=n+z*c},${this._y1=t+z*l}`}}arc(n,t,i,a,s,r){if(n=+n,t=+t,i=+i,r=!!r,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(a),c=i*Math.sin(a),l=n+o,h=t+c,m=1^r,d=r?a-s:s-a;this._x1===null?this._append`M${l},${h}`:(Math.abs(this._x1-l)>pt||Math.abs(this._y1-h)>pt)&&this._append`L${l},${h}`,i&&(d<0&&(d=d%ma+ma),d>td?this._append`A${i},${i},0,1,${m},${n-o},${t-c}A${i},${i},0,1,${m},${this._x1=l},${this._y1=h}`:d>pt&&this._append`A${i},${i},0,${+(d>=da)},${m},${this._x1=n+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(n,t,i,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}};function jo(){return new ut}jo.prototype=ut.prototype;function Qo(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(t==null)n=null;else{let i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);n=i}return e},()=>new ut(n)}function nd(e){return e.innerRadius}function ad(e){return e.outerRadius}function sd(e){return e.startAngle}function rd(e){return e.endAngle}function od(e){return e&&e.padAngle}function ld(e,n,t,i,a,s,r,o){var c=t-e,l=i-n,h=r-a,m=o-s,d=m*c-h*l;if(!(d*d<re))return d=(h*(n-s)-m*(e-a))/d,[e+d*c,n+d*l]}function on(e,n,t,i,a,s,r){var o=e-t,c=n-i,l=(r?s:-s)/gt(o*o+c*c),h=l*c,m=-l*o,d=e+h,g=n+m,v=t+h,y=i+m,S=(d+v)/2,A=(g+y)/2,G=v-d,P=y-g,N=G*G+P*P,z=a-s,ne=d*y-v*g,Ae=(P<0?-1:1)*gt(Wo(0,z*z*N-ne*ne)),xe=(ne*P-G*Ae)/N,De=(-ne*G-P*Ae)/N,pe=(ne*P+G*Ae)/N,L=(-ne*G+P*Ae)/N,Z=xe-S,T=De-A,E=pe-S,Me=L-A;return Z*Z+T*T>E*E+Me*Me&&(xe=pe,De=L),{cx:xe,cy:De,x01:-h,y01:-m,x11:xe*(a/z-1),y11:De*(a/z-1)}}function si(){var e=nd,n=ad,t=te(0),i=null,a=sd,s=rd,r=od,o=null,c=Qo(l);function l(){var h,m,d=+e.apply(this,arguments),g=+n.apply(this,arguments),v=a.apply(this,arguments)-ai,y=s.apply(this,arguments)-ai,S=ca(y-v),A=y>v;if(o||(o=h=c()),g<d&&(m=g,g=d,d=m),!(g>re))o.moveTo(0,0);else if(S>Lt-re)o.moveTo(g*Je(v),g*Le(v)),o.arc(0,0,g,v,y,!A),d>re&&(o.moveTo(d*Je(y),d*Le(y)),o.arc(0,0,d,y,v,A));else{var G=v,P=y,N=v,z=y,ne=S,Ae=S,xe=r.apply(this,arguments)/2,De=xe>re&&(i?+i.apply(this,arguments):gt(d*d+g*g)),pe=rn(ca(g-d)/2,+t.apply(this,arguments)),L=pe,Z=pe,T,E;if(De>re){var Me=ha(De/d*Le(xe)),Ve=ha(De/g*Le(xe));(ne-=Me*2)>re?(Me*=A?1:-1,N+=Me,z-=Me):(ne=0,N=z=(v+y)/2),(Ae-=Ve*2)>re?(Ve*=A?1:-1,G+=Ve,P-=Ve):(Ae=0,G=P=(v+y)/2)}var ve=g*Je(G),ye=g*Le(G),le=d*Je(z),ci=d*Le(z);if(pe>re){var hi=g*Je(P),di=g*Le(P),mn=d*Je(N),gn=d*Le(N),ze;if(S<St)if(ze=ld(ve,ye,mn,gn,hi,di,le,ci)){var pn=ve-ze[0],un=ye-ze[1],fn=hi-ze[0],_n=di-ze[1],ya=1/Le(Yo((pn*fn+un*_n)/(gt(pn*pn+un*un)*gt(fn*fn+_n*_n)))/2),ba=gt(ze[0]*ze[0]+ze[1]*ze[1]);L=rn(pe,(d-ba)/(ya-1)),Z=rn(pe,(g-ba)/(ya+1))}else L=Z=0}Ae>re?Z>re?(T=on(mn,gn,ve,ye,g,Z,A),E=on(hi,di,le,ci,g,Z,A),o.moveTo(T.cx+T.x01,T.cy+T.y01),Z<pe?o.arc(T.cx,T.cy,Z,ie(T.y01,T.x01),ie(E.y01,E.x01),!A):(o.arc(T.cx,T.cy,Z,ie(T.y01,T.x01),ie(T.y11,T.x11),!A),o.arc(0,0,g,ie(T.cy+T.y11,T.cx+T.x11),ie(E.cy+E.y11,E.cx+E.x11),!A),o.arc(E.cx,E.cy,Z,ie(E.y11,E.x11),ie(E.y01,E.x01),!A))):(o.moveTo(ve,ye),o.arc(0,0,g,G,P,!A)):o.moveTo(ve,ye),!(d>re)||!(ne>re)?o.lineTo(le,ci):L>re?(T=on(le,ci,hi,di,d,-L,A),E=on(ve,ye,mn,gn,d,-L,A),o.lineTo(T.cx+T.x01,T.cy+T.y01),L<pe?o.arc(T.cx,T.cy,L,ie(T.y01,T.x01),ie(E.y01,E.x01),!A):(o.arc(T.cx,T.cy,L,ie(T.y01,T.x01),ie(T.y11,T.x11),!A),o.arc(0,0,d,ie(T.cy+T.y11,T.cx+T.x11),ie(E.cy+E.y11,E.cx+E.x11),A),o.arc(E.cx,E.cy,L,ie(E.y11,E.x11),ie(E.y01,E.x01),!A))):o.arc(0,0,d,z,N,A)}if(o.closePath(),h)return o=null,h+""||null}return l.centroid=function(){var h=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,m=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-St/2;return[Je(m)*h,Le(m)*h]},l.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:te(+h),l):e},l.outerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:te(+h),l):n},l.cornerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:te(+h),l):t},l.padRadius=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:te(+h),l):i},l.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:te(+h),l):a},l.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:te(+h),l):s},l.padAngle=function(h){return arguments.length?(r=typeof h=="function"?h:te(+h),l):r},l.context=function(h){return arguments.length?(o=h??null,l):o},l}var Ty=Array.prototype.slice;function qo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Uo(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function Ko(e){return e}function ga(){var e=Ko,n=Uo,t=null,i=te(0),a=te(Lt),s=te(0);function r(o){var c,l=(o=qo(o)).length,h,m,d=0,g=new Array(l),v=new Array(l),y=+i.apply(this,arguments),S=Math.min(Lt,Math.max(-Lt,a.apply(this,arguments)-y)),A,G=Math.min(Math.abs(S)/l,s.apply(this,arguments)),P=G*(S<0?-1:1),N;for(c=0;c<l;++c)(N=v[g[c]=c]=+e(o[c],c,o))>0&&(d+=N);for(n!=null?g.sort(function(z,ne){return n(v[z],v[ne])}):t!=null&&g.sort(function(z,ne){return t(o[z],o[ne])}),c=0,m=d?(S-l*P)/d:0;c<l;++c,y=A)h=g[c],N=v[h],A=y+(N>0?N*m:0)+P,v[h]={data:o[h],index:c,value:N,startAngle:y,endAngle:A,padAngle:G};return v}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:te(+o),r):e},r.sortValues=function(o){return arguments.length?(n=o,t=null,r):n},r.sort=function(o){return arguments.length?(t=o,n=null,r):t},r.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:te(+o),r):i},r.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:te(+o),r):a},r.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:te(+o),r):s},r}var gd=["caretElm"],pd=e=>({model:e});function ud(e,n){}function fd(e,n){if(e&1&&(p(0,"span"),w(1,ud,0,0,"ng-template",5),u()),e&2){let t=_();f(),x("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ya(2,pd,t.context))}}function _d(e,n){if(e&1&&V(0,"span",6),e&2){let t=_();x("innerHTML",t.title,Oa)}}function xd(e,n){if(e&1&&(p(0,"header",4)(1,"span",5),b(2),u()()),e&2){let t=_();f(2),Te(t.title)}}function vd(e,n){if(e&1){let t=K();p(0,"li",6)(1,"ngx-charts-legend-entry",7),I("select",function(a){F(t);let s=_();return O(s.labelClick.emit(a))})("activate",function(a){F(t);let s=_();return O(s.activate(a))})("deactivate",function(a){F(t);let s=_();return O(s.deactivate(a))}),u()()}if(e&2){let t=n.$implicit,i=_();f(),x("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}var yd=["*"];function bd(e,n){if(e&1&&V(0,"ngx-charts-scale-legend",4),e&2){let t=_();x("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function Cd(e,n){if(e&1){let t=K();p(0,"ngx-charts-legend",5),I("labelClick",function(a){F(t);let s=_();return O(s.legendLabelClick.emit(a))})("labelActivate",function(a){F(t);let s=_();return O(s.legendLabelActivate.emit(a))})("labelDeactivate",function(a){F(t);let s=_();return O(s.legendLabelDeactivate.emit(a))}),u()}if(e&2){let t=_();x("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}var Td=["ngx-charts-axis-label",""],cl=["ticksel"],wd=["ngx-charts-x-axis-ticks",""];function kd(e,n){e&1&&(C(),Cn(0))}function Sd(e,n){if(e&1&&(C(),p(0,"tspan",12),b(1),u()),e&2){let t=n.$implicit,i=n.index;D("y",i*12),f(),Y(" ",t," ")}}function Ld(e,n){if(e&1&&(C(),ce(0),w(1,Sd,2,2,"tspan",11),he()),e&2){let t=n.ngIf;f(),x("ngForOf",t)}}function Ad(e,n){if(e&1&&w(0,Ld,2,1,"ng-container",8),e&2){let t=_(2).$implicit,i=_();x("ngIf",i.tickChunks(t))}}function Dd(e,n){if(e&1&&b(0),e&2){let t=_().ngIf,i=_(2);Y(" ",i.tickTrim(t)," ")}}function Md(e,n){if(e&1&&(C(),ce(0),p(1,"title"),b(2),u(),p(3,"text",9),w(4,kd,1,0,"ng-container",10),u(),w(5,Ad,1,1,"ng-template",null,1,Vt)(7,Dd,1,1,"ng-template",null,2,Vt),he()),e&2){let t=n.ngIf,i=Ye(6),a=Ye(8),s=_(2);f(2),Te(t),f(),D("text-anchor",s.textAnchor)("transform",s.textTransform),f(),x("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",a)}}function Ed(e,n){if(e&1&&(C(),p(0,"g",7),w(1,Md,9,6,"ng-container",8),u()),e&2){let t=n.$implicit,i=_();D("transform",i.tickTransform(t)),f(),x("ngIf",i.tickFormat(t))}}function Fd(e,n){if(e&1&&(C(),p(0,"g"),V(1,"line",13),u()),e&2){let t=_(2);D("transform",t.gridLineTransform()),f(),D("y1",-t.gridLineHeight)}}function Od(e,n){if(e&1&&(C(),p(0,"g"),w(1,Fd,2,2,"g",8),u()),e&2){let t=n.$implicit,i=_();D("transform",i.tickTransform(t)),f(),x("ngIf",i.showGridLines)}}function Id(e,n){if(e&1&&(C(),V(0,"path",14)),e&2){let t=_();D("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Vd(e,n){if(e&1&&(C(),p(0,"g")(1,"title"),b(2),u(),p(3,"text",17),b(4),u()()),e&2){let t=_(2).$implicit,i=_();f(2),Te(i.tickTrim(i.tickFormat(t.value))),f(2),Y(" ",t.name," ")}}function zd(e,n){if(e&1&&(C(),p(0,"g"),V(1,"line",16),w(2,Vd,5,2,"g",8),u()),e&2){let t=_().$implicit,i=_();D("transform",i.transform(t.value)),f(),D("y2",25+i.gridLineHeight)("transform",i.gridLineTransform()),f(),x("ngIf",i.showRefLabels)}}function Pd(e,n){if(e&1&&(C(),p(0,"g",15),w(1,zd,3,4,"g",8),u()),e&2){let t=_();f(),x("ngIf",t.showRefLines)}}var Rd=["ngx-charts-x-axis",""];function Bd(e,n){if(e&1){let t=K();C(),p(0,"g",2),I("dimensionsChanged",function(a){F(t);let s=_();return O(s.emitTicksHeight(a))}),u()}if(e&2){let t=_();x("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function Gd(e,n){if(e&1&&(C(),V(0,"g",3)),e&2){let t=_();x("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}var Nd=["ngx-charts-y-axis-ticks",""];function Hd(e,n){e&1&&(C(),Cn(0))}function $d(e,n){if(e&1&&(C(),p(0,"tspan",13),b(1),u()),e&2){let t=n.$implicit,i=n.index,a=_(6);D("y",i*(8+a.tickSpacing)),f(),Y(" ",t," ")}}function Xd(e,n){if(e&1&&(C(),ce(0),w(1,$d,2,2,"tspan",12),he()),e&2){let t=_().ngIf;f(),x("ngForOf",t)}}function Wd(e,n){if(e&1&&(C(),ce(0),w(1,Xd,2,1,"ng-container",11),he()),e&2){let t=n.ngIf;_(2);let i=Ye(8);f(),x("ngIf",t.length>1)("ngIfElse",i)}}function Yd(e,n){if(e&1&&w(0,Wd,2,2,"ng-container",8),e&2){let t=_(2).$implicit,i=_();x("ngIf",i.tickChunks(t))}}function Zd(e,n){if(e&1&&b(0),e&2){let t=_().ngIf,i=_(2);Y(" ",i.tickTrim(t)," ")}}function jd(e,n){if(e&1&&(C(),ce(0),p(1,"title"),b(2),u(),p(3,"text",9),w(4,Hd,1,0,"ng-container",10),u(),w(5,Yd,1,1,"ng-template",null,1,Vt)(7,Zd,1,1,"ng-template",null,2,Vt),he()),e&2){let t=n.ngIf,i=Ye(6),a=Ye(8),s=_(2);f(2),Te(t),f(),ue("font-size","12px"),D("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),f(),x("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",a)}}function Qd(e,n){if(e&1&&(C(),p(0,"g",7),w(1,jd,9,10,"ng-container",8),u()),e&2){let t=n.$implicit,i=_();D("transform",i.transform(t)),f(),x("ngIf",i.tickFormat(t))}}function qd(e,n){if(e&1&&(C(),V(0,"path",14)),e&2){let t=_();D("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Ud(e,n){if(e&1&&(C(),V(0,"line",16)),e&2){let t=_(3);D("x2",t.gridLineWidth)}}function Kd(e,n){if(e&1&&(C(),V(0,"line",16)),e&2){let t=_(3);D("x2",-t.gridLineWidth)}}function Jd(e,n){if(e&1&&(C(),p(0,"g"),w(1,Ud,1,1,"line",15)(2,Kd,1,1,"line",15),u()),e&2){let t=_(2);D("transform",t.gridLineTransform()),f(),x("ngIf",t.orient===t.Orientation.Left),f(),x("ngIf",t.orient===t.Orientation.Right)}}function em(e,n){if(e&1&&(C(),p(0,"g"),w(1,Jd,3,3,"g",8),u()),e&2){let t=n.$implicit,i=_();D("transform",i.transform(t)),f(),x("ngIf",i.showGridLines)}}function tm(e,n){if(e&1&&(C(),p(0,"g")(1,"title"),b(2),u(),p(3,"text",19),b(4),u()()),e&2){let t=_(2).$implicit,i=_();f(2),Te(i.tickTrim(i.tickFormat(t.value))),f(),D("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),f(),Y(" ",t.name," ")}}function im(e,n){if(e&1&&(C(),p(0,"g"),V(1,"line",18),w(2,tm,5,6,"g",8),u()),e&2){let t=_().$implicit,i=_();D("transform",i.transform(t.value)),f(),D("x2",i.gridLineWidth),f(),x("ngIf",i.showRefLabels)}}function nm(e,n){if(e&1&&(C(),p(0,"g",17),w(1,im,3,3,"g",8),u()),e&2){let t=_();f(),x("ngIf",t.showRefLines)}}var am=["ngx-charts-y-axis",""];function sm(e,n){if(e&1){let t=K();C(),p(0,"g",2),I("dimensionsChanged",function(a){F(t);let s=_();return O(s.emitTicksWidth(a))}),u()}if(e&2){let t=_();x("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function rm(e,n){if(e&1&&(C(),V(0,"g",3)),e&2){let t=_();x("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}var om=["ngx-charts-svg-linear-gradient",""];function lm(e,n){if(e&1&&(C(),V(0,"stop")),e&2){let t=n.$implicit;ue("stop-color",t.color)("stop-opacity",t.opacity),D("offset",t.offset+"%")}}var cm=["ngx-charts-svg-radial-gradient",""];function hm(e,n){if(e&1&&(C(),V(0,"stop")),e&2){let t=n.$implicit;ue("stop-color",t.color)("stop-opacity",t.opacity),D("offset",t.offset+"%")}}var hl=["tooltipTemplate"];var dl=(e,n)=>[e,n];var ml=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var dm=["ngx-charts-bar",""];function mm(e,n){if(e&1&&(C(),p(0,"defs"),V(1,"g",2),u()),e&2){let t=_();f(),x("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}var gm=["ngx-charts-bar-label",""];var pm=["ngx-charts-series-vertical",""];function um(e,n){if(e&1){let t=K();C(),p(0,"g",2),I("select",function(a){F(t);let s=_(2);return O(s.onClick(a))})("activate",function(a){F(t);let s=_(2);return O(s.activate.emit(a))})("deactivate",function(a){F(t);let s=_(2);return O(s.deactivate.emit(a))}),u()}if(e&2){let t=n.$implicit,i=_(2);x("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function fm(e,n){if(e&1&&(C(),p(0,"g"),w(1,um,1,22,"g",1),u()),e&2){let t=_();f(),x("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function _m(e,n){if(e&1){let t=K();C(),p(0,"g",2),I("select",function(a){F(t);let s=_(2);return O(s.onClick(a))})("activate",function(a){F(t);let s=_(2);return O(s.activate.emit(a))})("deactivate",function(a){F(t);let s=_(2);return O(s.deactivate.emit(a))}),u()}if(e&2){let t=n.$implicit,i=_(2);x("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function xm(e,n){if(e&1&&(C(),p(0,"g"),w(1,_m,1,20,"g",1),u()),e&2){let t=_();f(),x("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function vm(e,n){if(e&1){let t=K();C(),p(0,"g",4),I("dimensionsChanged",function(a){let s=F(t).index,r=_(2);return O(r.dataLabelHeightChanged.emit({size:a,index:s}))}),u()}if(e&2){let t=n.$implicit,i=_(2);x("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function ym(e,n){if(e&1&&(C(),p(0,"g"),w(1,vm,1,7,"g",3),u()),e&2){let t=_();f(),x("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function bm(e,n){if(e&1){let t=K();C(),p(0,"g",5),I("dimensionsChanged",function(a){F(t);let s=_();return O(s.updateXAxisHeight(a))}),u()}if(e&2){let t=_();x("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function Cm(e,n){if(e&1){let t=K();C(),p(0,"g",6),I("dimensionsChanged",function(a){F(t);let s=_();return O(s.updateYAxisWidth(a))}),u()}if(e&2){let t=_();x("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("wrapTicks",t.wrapTicks)}}var Tm=["ngx-charts-pie-label",""];var wm=["ngx-charts-pie-arc",""];function km(e,n){if(e&1&&(C(),p(0,"defs"),V(1,"g",3),u()),e&2){let t=_();f(),x("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}var Sm=["ngx-charts-pie-series",""];function Lm(e,n){if(e&1&&(C(),V(0,"g",3)),e&2){let t=_().$implicit,i=_();x("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Am(e,n){if(e&1){let t=K();C(),p(0,"g"),w(1,Lm,1,10,"g",1),p(2,"g",2),I("select",function(a){F(t);let s=_();return O(s.onClick(a))})("activate",function(a){F(t);let s=_();return O(s.activate.emit(a))})("deactivate",function(a){F(t);let s=_();return O(s.deactivate.emit(a))})("dblclick",function(a){F(t);let s=_();return O(s.dblclick.emit(a))}),u()()}if(e&2){let t=n.$implicit,i=_();f(),x("ngIf",i.labelVisible(t)),f(),x("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}var Dm=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function Mm(e,n,t){t=t||{};let i,a,s,r=null,o=0;function c(){o=t.leading===!1?0:+new Date,r=null,s=e.apply(i,a)}return function(){let l=+new Date;!o&&t.leading===!1&&(o=l);let h=n-(l-o);return i=this,a=arguments,h<=0?(clearTimeout(r),r=null,o=l,s=e.apply(i,a)):!r&&t.trailing!==!1&&(r=setTimeout(c,h)),s}}function Em(e,n){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:Mm(s.value,e,n)}),this[a]}}}}var M=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(M||{}),tt=7;function Jo(e,n,t){if(t===M.Top)return e.top-tt;if(t===M.Bottom)return e.top+e.height-n.height+tt;if(t===M.Center)return e.top+e.height/2-n.height/2}function el(e,n,t){if(t===M.Left)return e.left-tt;if(t===M.Right)return e.left+e.width-n.width+tt;if(t===M.Center)return e.left+e.width/2-n.width/2}var oi=class e{static calculateVerticalAlignment(n,t,i){let a=Jo(n,t,i);return a+t.height>window.innerHeight&&(a=window.innerHeight-t.height),a}static calculateVerticalCaret(n,t,i,a){let s;a===M.Top&&(s=n.height/2-i.height/2+tt),a===M.Bottom&&(s=t.height-n.height/2-i.height/2-tt),a===M.Center&&(s=t.height/2-i.height/2);let r=Jo(n,t,a);return r+t.height>window.innerHeight&&(s+=r+t.height-window.innerHeight),s}static calculateHorizontalAlignment(n,t,i){let a=el(n,t,i);return a+t.width>window.innerWidth&&(a=window.innerWidth-t.width),a}static calculateHorizontalCaret(n,t,i,a){let s;a===M.Left&&(s=n.width/2-i.width/2+tt),a===M.Right&&(s=t.width-n.width/2-i.width/2-tt),a===M.Center&&(s=t.width/2-i.width/2);let r=el(n,t,a);return r+t.width>window.innerWidth&&(s+=r+t.width-window.innerWidth),s}static shouldFlip(n,t,i,a){let s=!1;return i===M.Right&&n.left+n.width+t.width+a>window.innerWidth&&(s=!0),i===M.Left&&n.left-t.width-a<0&&(s=!0),i===M.Top&&n.top-t.height-a<0&&(s=!0),i===M.Bottom&&n.top+n.height+t.height+a>window.innerHeight&&(s=!0),s}static positionCaret(n,t,i,a,s){let r=0,o=0;return n===M.Right?(o=-7,r=e.calculateVerticalCaret(i,t,a,s)):n===M.Left?(o=t.width,r=e.calculateVerticalCaret(i,t,a,s)):n===M.Top?(r=t.height,o=e.calculateHorizontalCaret(i,t,a,s)):n===M.Bottom&&(r=-7,o=e.calculateHorizontalCaret(i,t,a,s)),{top:r,left:o}}static positionContent(n,t,i,a,s){let r=0,o=0;return n===M.Right?(o=i.left+i.width+a,r=e.calculateVerticalAlignment(i,t,s)):n===M.Left?(o=i.left-t.width-a,r=e.calculateVerticalAlignment(i,t,s)):n===M.Top?(r=i.top-t.height-a,o=e.calculateHorizontalAlignment(i,t,s)):n===M.Bottom&&(r=i.top+i.height+a,o=e.calculateHorizontalAlignment(i,t,s)),{top:r,left:o}}static determinePlacement(n,t,i,a){if(e.shouldFlip(i,t,n,a)){if(n===M.Right)return M.Left;if(n===M.Left)return M.Right;if(n===M.Top)return M.Bottom;if(n===M.Bottom)return M.Top}return n}},Fm=(()=>{class e{get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}constructor(t,i,a){this.element=t,this.renderer=i,this.platformId=a}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Ge(this.platformId))return;let t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let a=t.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(t,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,a){let{top:s,left:r}=oi.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${s}px`),this.renderer.setStyle(t,"left",`${r}px`)}positionCaret(t,i){let a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:r,left:o}=oi.positionCaret(this.placement,i,t,s,this.alignment);this.renderer.setStyle(a,"top",`${r}px`),this.renderer.setStyle(a,"left",`${o}px`)}checkFlip(t,i){this.placement=oi.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(i){return new(i||e)($(be),$(yn),$(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,a){if(i&1&&Ce(gd,5),i&2){let s;de(s=me())&&(a.caretElm=s.first)}},hostVars:2,hostBindings:function(i,a){i&1&&I("resize",function(){return a.onWindowResize()},!1,Va),i&2&&Ra(a.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,a){i&1&&(p(0,"div"),V(1,"span",1,0),p(3,"div",2),w(4,fd,2,4,"span",3)(5,_d,1,1,"span",4),u()()),i&2&&(f(),Ba("tooltip-caret position-",a.placement,""),x("hidden",!a.showCaret),f(3),x("ngIf",!a.title),f(),x("ngIf",a.title))},dependencies:[fe,Qa],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return ka([Em(100)],e.prototype,"onWindowResize",null),e})(),pa=class{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,t){t=this.assignDefaults(t);let i=this.injectComponent(n,t);return this.register(n,i),i}destroy(n){let t=this.components.get(n.componentType);if(t&&t.length){let i=t.indexOf(n);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){let t=this.components.get(n);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(n,t){return this.injectionService.appendComponent(n,t)}assignDefaults(n){let t=Ee({},this.defaults.inputs),i=Ee({},this.defaults.outputs);return!n.inputs&&!n.outputs&&(n={inputs:n}),t&&(n.inputs=Ee(Ee({},t),n.inputs)),i&&(n.outputs=Ee(Ee({},i),n.outputs)),n}register(n,t){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(t)}};function Om(e){return e.element}var gl=(()=>{class e{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}constructor(t,i){this.applicationRef=t,this.injector=i}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return Om(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(i.inputs!==void 0){let a=Object.getOwnPropertyNames(i.inputs);for(let s of a)t.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let a=Object.getOwnPropertyNames(i.outputs);for(let s of a)t.instance[s]=i.outputs[s]}}return t}appendComponent(t,i={},a){a||(a=this.getRootViewContainer());let s=this.getComponentRootNode(a),r=new ps(s,this.applicationRef,this.injector),o=new gs(t),c=r.attach(o);return this.projectComponentBindings(c,i),c}static{this.\u0275fac=function(i){return new(i||e)(pi(Pa),pi(Fa))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})(),fa=(()=>{class e extends pa{constructor(t){super(t),this.type=Fm}static{this.\u0275fac=function(i){return new(i||e)(pi(gl))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})(),it=function(e){return e.Right="right",e.Below="below",e}(it||{}),ri=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(ri||{}),R=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(R||{});function li(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function pl(e){return e.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[n])}var Im=(()=>{class e{constructor(){this.isActive=!1,this.select=new k,this.activate=new k,this.deactivate=new k,this.toggle=new k}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,a){i&1&&I("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,a){i&1&&(p(0,"span",0),I("click",function(){return a.select.emit(a.formattedLabel)}),p(1,"span",1),I("click",function(){return a.toggle.emit(a.formattedLabel)}),u(),p(2,"span",2),b(3),u()()),i&2&&(Re("active",a.isActive),x("title",a.formattedLabel),f(),ue("background-color",a.color),f(2),Y(" ",a.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return e})(),Vm=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new k,this.labelActivate=new k,this.labelDeactivate=new k,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let t=[];for(let i of this.data){let a=li(i);t.findIndex(r=>r.label===a)===-1&&t.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return t}isActive(t){return this.activeEntries?this.activeEntries.find(a=>t.label===a.name)!==void 0:!1}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}static{this.\u0275fac=function(i){return new(i||e)($(xi))}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[H],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,a){i&1&&(p(0,"div"),w(1,xd,3,1,"header",0),p(2,"div",1)(3,"ul",2),w(4,vd,2,4,"li",3),u()()()),i&2&&(ue("width",a.width,"px"),f(),x("ngIf",(a.title==null?null:a.title.length)>0),f(2),ue("max-height",a.height-45,"px"),Re("horizontal-legend",a.horizontal),f(),x("ngForOf",a.legendEntries)("ngForTrackBy",a.trackBy))},dependencies:[Ze,fe,Im],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return e})(),zm=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){let i=this.gradientString(this.colors.range(),this.colors.domain()),a=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${a}, ${i})`}gradientString(t,i){i.push(1);let a=[];return t.reverse().forEach((s,r)=>{a.push(`${s} ${Math.round(i[r]*100)}%`)}),a.join(", ")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[H],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,a){i&1&&(p(0,"div",0)(1,"div",1)(2,"span"),b(3),u()(),V(4,"div",2),p(5,"div",1)(6,"span"),b(7),u()()()),i&2&&(ue("height",a.horizontal?void 0:a.height,"px")("width",a.width,"px"),Re("horizontal-legend",a.horizontal),f(3),Te(a.valueRange[1].toLocaleString()),f(),ue("background",a.gradient),f(3),Te(a.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return e})(),ul=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new k,this.legendLabelActivate=new k,this.legendLabelDeactivate=new k,this.LegendPosition=it,this.LegendType=ri}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===it.Right)&&(this.legendType===ri.ScaleLegend?t=1:t=2));let i=12-t;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===it.Right?Math.floor(this.view[0]*t/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===R.Linear?ri.ScaleLegend:ri.Legend}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[_i([fa]),H],ngContentSelectors:yd,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,a){i&1&&(Ot(),p(0,"div",0),C(),p(1,"svg",1),It(2),u(),w(3,bd,1,5,"ngx-charts-scale-legend",2)(4,Cd,1,7,"ngx-charts-legend",3),u()),i&2&&(ue("width",a.view[0],"px")("height",a.view[1],"px"),f(),D("width",a.chartWidth)("height",a.view[1]),f(2),x("ngIf",a.showLegend&&a.legendType===a.LegendType.ScaleLegend),f(),x("ngIf",a.showLegend&&a.legendType===a.LegendType.Legend))},dependencies:[fe,Vm,zm],encapsulation:2,changeDetection:0})}}return e})(),Pm=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new k,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let t=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}static{this.\u0275fac=function(i){return new(i||e)($(be),$(We))}}static{this.\u0275dir=at({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}}return e})();function tl(e){return toString.call(e)==="[object Date]"}var fl=(()=>{class e{constructor(t,i,a,s){this.chartElement=t,this.zone=i,this.cd=a,this.platformId=s,this.scheme="cool",this.schemeType=R.Ordinal,this.animations=!0,this.select=new k}ngOnInit(){vi(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Pm(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i,a=this.chartElement.nativeElement;if(Ge(this.platformId)&&a.parentNode!==null){let s=a.parentNode.getBoundingClientRect();t=s.width,i=s.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){let i=this.results[t];if(i.label=i.name,tl(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){let s=i.series[a];s.label=s.name,tl(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Ge(this.platformId))return;let i=La(window,"resize").pipe(Da(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){let i=[];for(let a of t){let s={};if(a.name!==void 0&&(s.name=a.name),a.value!==void 0&&(s.value=a.value),a.series!==void 0){s.series=[];for(let r of a.series){let o=Object.assign({},r);s.series.push(o)}}a.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(a.extra))),a.source!==void 0&&(s.source=a.source),a.target!==void 0&&(s.target=a.target),i.push(s)}return i}static{this.\u0275fac=function(i){return new(i||e)($(be),$(We),$(xi),$(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[H],decls:1,vars:0,template:function(i,a){i&1&&V(0,"div")},encapsulation:2})}}return e})(),X=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(X||{}),_l=(()=>{class e{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case X.Top:this.y=this.offset,this.x=this.width/2;break;case X.Bottom:this.y=this.offset,this.x=this.width/2;break;case X.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case X.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}static{this.\u0275fac=function(i){return new(i||e)($(be))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[H],attrs:Td,decls:2,vars:6,template:function(i,a){i&1&&(C(),p(0,"text"),b(1),u()),i&2&&(D("stroke-width",a.strokeWidth)("x",a.x)("y",a.y)("text-anchor",a.textAnchor)("transform",a.transform),f(),Y(" ",a.label," "))},encapsulation:2,changeDetection:0})}}return e})();function _a(e,n=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=n?e:`${e.slice(0,n)}...`)}function xl(e,n){if(e.length>n){let t=[],i=Math.floor(e.length/n);for(let a=0;a<e.length;a++)a%i===0&&t.push(e[a]);e=t}return e}function vl(e,n,t){let i=(e||"").toString(),a=[];if(/\s/.test(i))a=i.split(/\s+/).reduce((s,r)=>{let o=(s.pop()||"")+" ";return o.length+r.length>n?[...s,o.trim(),r.trim()]:[...s,o+r]},[]);else{let s=0;for(;s<i.length;)a.push(i.substring(s,s+n)),s+=n}return a.length>t&&(a=a.splice(0,t),a[a.length-1]+="..."),a}var oe=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(oe||{});function Xe(e,n,t,i,a,[s,r,o,c]){let l="";return t=Math.floor(t),i=Math.floor(i),t=t===0?1:t,i=i===0?1:i,l=`M${[e+a,n]}`,l+=`h${t-2*a}`,r?l+=`a${[a,a]} 0 0 1 ${[a,a]}`:l+=`h${a}v${a}`,l+=`v${i-2*a}`,c?l+=`a${[a,a]} 0 0 1 ${[-a,a]}`:l+=`v${a}h${-a}`,l+=`h${2*a-t}`,o?l+=`a${[a,a]} 0 0 1 ${[-a,-a]}`:l+=`h${-a}v${-a}`,l+=`v${2*a-i}`,s?l+=`a${[a,a]} 0 0 1 ${[a,-a]}`:l+=`v${-a}h${a}`,l+="z",l}var il=(()=>{class e{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new k,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=oe.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16,this.referenceLineLength=0}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Ge(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+this.scale.bandwidth()*.5}:this.scale,this.ticks=this.getTicks();let i=this.orient===X.Top||this.orient===X.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.orient){case X.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=oe.Middle,this.x2=this.innerTickSize*i,this.x1=this.tickSpacing*i,this.dx=i<0?"0em":".71em";break;case X.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=oe.End,this.y2=this.innerTickSize*-i,this.y1=this.tickSpacing*-i,this.dx=".32em";break;case X.Top:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=oe.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dx=i<0?"0em":".71em";break;case X.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=oe.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dx=".32em";break;default:}this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(s){return s.constructor.name==="Date"?s.toLocaleDateString():s.toLocaleString()};let a=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.textTransform="",a&&a!==0?(this.textTransform=`rotate(${a})`,this.textAnchor=oe.End,this.verticalSpacing=10):this.textAnchor=oe.Middle,setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Xe(this.refMax,-this.gridLineHeight+25,this.refMin-this.refMax,this.gridLineHeight,0,[!1,!1,!1,!1])}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let m=0;m<t.length;m++){let d=this.tickFormat(t[m]).toString(),g=d.length;this.trimTicks&&(g=this.tickTrim(d).length),g>this.maxTicksLength&&(this.maxTicksLength=g)}let a=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,r=a*s,o=r,c=Math.floor(this.width/t.length);for(;o>c&&i>-90;)i-=30,o=Math.cos(i*(Math.PI/180))*r;let l=14;if(this.isWrapTicksSupported){let m=this.ticks.reduce((g,v)=>v.length>g.length?v:g,"");l=14*(this.tickChunks(m).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(m)}let h=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):l;return this.approxHeight=Math.min(h,200),this.showRefLines&&this.referenceLines&&this.setReferencelines(),i}getTicks(){let t,i=this.getMaxTicks(20),a=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=xl(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?_a(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){let a=Math.floor(this.scale.bandwidth()/7),s=t.slice(0,a);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(a<=1)return[this.tickTrim(t)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Ge(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),a=Math.min(a,5),vl(t,s,a<1?1:a)}return[this.tickTrim(t)]}static{this.\u0275fac=function(i){return new(i||e)($(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(i,a){if(i&1&&Ce(cl,5),i&2){let s;de(s=me())&&(a.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[H],attrs:wd,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],["class","ref-line",4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"],[1,"reference-area"],[1,"ref-line"],["y1","25",1,"refline-path","gridline-path-vertical"],["transform","rotate(-270) translate(5, -5)",1,"refline-label"]],template:function(i,a){i&1&&(C(),p(0,"g",null,0),w(2,Ed,2,2,"g",3),u(),w(3,Od,2,2,"g",4)(4,Id,1,2,"path",5)(5,Pd,2,1,"g",6)),i&2&&(f(2),x("ngForOf",a.ticks),f(),x("ngForOf",a.ticks),f(),x("ngIf",a.referenceLineLength>1&&a.refMax&&a.refMin&&a.showRefLines),f(),x("ngForOf",a.referenceLines))},dependencies:[Ze,fe],encapsulation:2,changeDetection:0})}}return e})(),Rm=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=X.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new k,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=X}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){let i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(i,a){if(i&1&&Ce(il,5),i&2){let s;de(s=me())&&(a.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[H],attrs:Rd,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","referenceLines","showRefLines","showRefLabels","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","referenceLines","showRefLines","showRefLabels","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,a){i&1&&(C(),p(0,"g"),w(1,Bd,1,16,"g",0)(2,Gd,1,5,"g",1),u()),i&2&&(D("class",a.xAxisClassName)("transform",a.transform),f(),x("ngIf",a.xScale),f(),x("ngIf",a.showLabel))},dependencies:[fe,_l,il],encapsulation:2,changeDetection:0})}}return e})(),nl=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new k,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=oe.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=X}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Ge(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale,i=this.orient===X.Top||this.orient===X.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(a){return a.constructor.name==="Date"?a.toLocaleDateString():a.toLocaleString()},this.adjustedScale=t.bandwidth?a=>{let s=t(a)+t.bandwidth()*.5;if(this.wrapTicks&&a.toString().length>this.maxTickLength){let r=this.tickChunks(a).length;if(r===1)return s;let o=t.bandwidth(),c=r*8,l=o*.5-c*.5;return t(a)+l}return s}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case X.Top:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=oe.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case X.Bottom:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=oe.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case X.Left:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=oe.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case X.Right:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=oe.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Xe(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t,i=this.getMaxTicks(20),a=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=xl(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?_a(t,this.maxTickLength):t}getApproximateAxisWidth(){return Math.max(...this.ticks.map(a=>this.tickTrim(this.tickFormat(a)).length))*7}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,a=Math.floor(this.scale.bandwidth()/15);return a<=1?[this.tickTrim(t)]:vl(t,i,Math.min(a,5))}return[this.tickFormat(t)]}static{this.\u0275fac=function(i){return new(i||e)($(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(i,a){if(i&1&&Ce(cl,5),i&2){let s;de(s=me())&&(a.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[H],attrs:Nd,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],["class","ref-line",4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],[1,"ref-line"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(i,a){i&1&&(C(),p(0,"g",null,0),w(2,Qd,2,2,"g",3),u(),w(3,qd,1,2,"path",4)(4,em,2,2,"g",5)(5,nm,2,1,"g",6)),i&2&&(f(2),x("ngForOf",a.ticks),f(),x("ngIf",a.referenceLineLength>1&&a.refMax&&a.refMin&&a.showRefLines),f(),x("ngForOf",a.ticks),f(),x("ngForOf",a.referenceLines))},dependencies:[Ze,fe],encapsulation:2,changeDetection:0})}}return e})(),Bm=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=X.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new k,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===X.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===X.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(i,a){if(i&1&&Ce(nl,5),i&2){let s;de(s=me())&&(a.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[H],attrs:am,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,a){i&1&&(C(),p(0,"g"),w(1,sm,1,15,"g",0)(2,rm,1,5,"g",1),u()),i&2&&(D("class",a.yAxisClassName)("transform",a.transform),f(),x("ngIf",a.yScale),f(),x("ngIf",a.showLabel))},dependencies:[fe,_l,nl],encapsulation:2,changeDetection:0})}}return e})(),al=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[Be]})}}return e})(),cn=function(e){return e.popover="popover",e.tooltip="tooltip",e}(cn||{}),At=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(At||{}),yl=(()=>{class e{get listensForFocus(){return this.tooltipShowEvent===At.all||this.tooltipShowEvent===At.focus}get listensForHover(){return this.tooltipShowEvent===At.all||this.tooltipShowEvent===At.mouseover}constructor(t,i,a){this.tooltipService=t,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=M.Top,this.tooltipAlignment=M.Center,this.tooltipType=cn.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=At.all,this.tooltipImmediateExit=!1,this.show=new k,this.hide=new k}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;let i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(i){return new(i||e)($(fa),$(za),$(yn))}}static{this.\u0275dir=at({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,a){i&1&&I("focusin",function(){return a.onFocus()})("blur",function(){return a.onBlur()})("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(r){return a.onMouseLeave(r.target)})("click",function(){return a.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1})}}return e})(),sl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({providers:[gl,fa],imports:[Be]})}}return e})(),rl={};function xa(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,rl[e]?xa():(rl[e]=!0,e)}var ae=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(ae||{});var Gm=(()=>{class e{constructor(){this.orientation=ae.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===ae.Horizontal?this.x2="100%":this.orientation===ae.Vertical&&(this.y1="100%")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[H],attrs:om,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,a){i&1&&(C(),p(0,"linearGradient",0),w(1,lm,1,5,"stop",1),u()),i&2&&(x("id",a.name),D("x1",a.x1)("y1",a.y1)("x2",a.x2)("y2",a.y2),f(),x("ngForOf",a.stops))},dependencies:[Ze],encapsulation:2,changeDetection:0})}}return e})();var Nm=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},standalone:!1,features:[H],attrs:cm,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,a){i&1&&(C(),p(0,"radialGradient",0),w(1,hm,1,5,"stop",1),u()),i&2&&(x("id",a.name),D("cx",a.cx)("cy",a.cy)("r",a.r),f(),x("ngForOf",a.stops))},dependencies:[Ze],encapsulation:2,changeDetection:0})}}return e})();var ua;typeof window<"u"?ua=window:typeof global<"u"&&(ua=global);var Fb=ua.MouseEvent;var _e=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[Be,al,sl,Be,al,sl]})}}return e})();function bl({width:e,height:n,margins:t,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:s=0,yAxisWidth:r=0,showXLabel:o=!1,showYLabel:c=!1,showLegend:l=!1,legendType:h=R.Ordinal,legendPosition:m=it.Right,columns:d=12}){let g=t[3],v=e,y=n-t[0]-t[2];return l&&m===it.Right&&(h===R.Ordinal?d-=2:d-=1),v=v*d/12,v=v-t[1]-t[3],i&&(y-=5,y-=s,o&&(y-=30)),a&&(v-=5,v-=r,g+=r,g+=10,c&&(v-=30,g+=30)),v=Math.max(0,v),y=Math.max(0,y),{width:Math.floor(v),height:Math.floor(y),xOffset:Math.floor(g)}}var ol=[{name:"vivid",selectable:!0,group:R.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:R.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:R.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:R.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:R.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:R.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:R.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:R.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:R.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:R.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:R.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:R.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:R.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:R.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:R.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],ln=class{constructor(n,t,i,a){typeof n=="string"&&(n=ol.find(s=>s.name===n)),this.colorDomain=n.domain,this.scaleType=t,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(n,t,this.domain)}generateColorScheme(n,t,i){typeof n=="string"&&(n=ol.find(s=>s.name===n));let a;switch(t){case R.Quantile:a=ni().range(n.domain).domain(i);break;case R.Ordinal:a=dt().range(n.domain).domain(i);break;case R.Linear:{let s=[...n.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let r=Tt(0,1,1/s.length);a=Ke().range(s).domain(r)}break;default:break}return a}getColor(n){if(n==null)throw new Error("Value can not be null");if(this.scaleType===R.Linear){let t=Ke().domain(this.domain).range([0,1]);return this.scale(t(n))}else{if(typeof this.customColors=="function")return this.customColors(n);let t=n.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,t){t===void 0&&(t=this.domain[0]);let i=Ke().domain(this.domain).range([0,1]),a=wt().domain(this.colorDomain).range([0,1]),s=this.getColor(n),r=i(t),o=this.getColor(t),c=i(n),l=1,h=r,m=[];for(m.push({color:o,offset:r,originalOffset:r,opacity:1});h<c&&l<this.colorDomain.length;){let d=this.colorDomain[l],g=a(d);if(g<=r){l++;continue}if(g.toFixed(4)>=(c-a.bandwidth()).toFixed(4))break;m.push({color:d,offset:g,opacity:1}),h=g,l++}if(m[m.length-1].offset<100&&m.push({color:s,offset:c,opacity:1}),c===r)m[0].offset=0,m[1].offset=100;else if(m[m.length-1].offset!==100)for(let d of m)d.offset=(d.offset-r)/(c-r)*100;return m}};var Hm=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})(),$m=(()=>{class e{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new k,this.activate=new k,this.deactivate=new k,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+xa().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let t=rt(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t=this.getRadius(),i;return this.roundEdges?this.orientation===ae.Vertical?(t=Math.min(this.height,t),i=Xe(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===ae.Horizontal&&(t=Math.min(this.width,t),i=Xe(this.x,this.y,1,this.height,0,this.edges)):this.orientation===ae.Vertical?i=Xe(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===ae.Horizontal&&(i=Xe(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let t=this.getRadius(),i;return this.roundEdges?this.orientation===ae.Vertical?(t=Math.min(this.height,t),i=Xe(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===ae.Horizontal&&(t=Math.min(this.width,t),i=Xe(this.x,this.y,this.width,this.height,t,this.edges)):i=Xe(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===ae.Vertical?this.data.value>0?t=[!0,!0,!1,!1]:t=[!1,!1,!0,!0]:this.orientation===ae.Horizontal&&(this.data.value>0?t=[!1,!0,!1,!0]:t=[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===ae.Vertical&&this.height===0||this.orientation===ae.Horizontal&&this.width===0)}static{this.\u0275fac=function(i){return new(i||e)($(be))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(i,a){i&1&&I("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[H],attrs:dm,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(i,a){i&1&&(w(0,mm,2,3,"defs",0),C(),p(1,"path",1),I("click",function(){return a.select.emit(a.data)}),u()),i&2&&(x("ngIf",a.hasGradient),f(),Re("active",a.isActive)("hidden",a.hideBar),D("d",a.path)("aria-label",a.ariaLabel)("fill",a.hasGradient?a.gradientFill:a.fill))},dependencies:[fe,Gm],encapsulation:2,changeDetection:0})}}return e})(),et=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(et||{}),Dt=function(e){return e.positive="positive",e.negative="negative",e}(Dt||{}),Xm=(()=>{class e{constructor(t){this.dimensionsChanged=new k,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){let t=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;return{height:t,width:i,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=li(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}static{this.\u0275fac=function(i){return new(i||e)($(be))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[H],attrs:gm,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(i,a){i&1&&(C(),p(0,"text",0),b(1),u()),i&2&&(D("text-anchor",a.textAnchor)("transform",a.transform)("x",a.x)("y",a.y),f(),Y(" ",a.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0})}}return e})();var Wm=(()=>{class e{constructor(t){this.platformId=t,this.type=et.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new k,this.activate=new k,this.deactivate=new k,this.dataLabelHeightChanged=new k,this.barsForDataLabels=[],this.barOrientation=ae,this.isSSR=!1}ngOnInit(){vi(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.updateTooltipSettings();let t;this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);let i=Math.max(this.yScale.domain()[0],0),a={[Dt.positive]:0,[Dt.negative]:0},s=Dt.positive,r;this.type===et.Normalized&&(r=this.series.map(o=>o.value).reduce((o,c)=>o+c,0)),this.bars=this.series.map((o,c)=>{let l=o.value,h=this.getLabel(o),m=li(h),d=this.roundEdges;s=l>0?Dt.positive:Dt.negative;let g={value:l,label:h,roundEdges:d,data:o,width:t,formattedLabel:m,height:0,x:0,y:0};if(this.type===et.Standard)g.height=Math.abs(this.yScale(l)-this.yScale(i)),g.x=this.xScale(h),l<0?g.y=this.yScale(0):g.y=this.yScale(l);else if(this.type===et.Stacked){let y=a[s],S=y+l;a[s]+=l,g.height=this.yScale(y)-this.yScale(S),g.x=0,g.y=this.yScale(S),g.offset0=y,g.offset1=S}else if(this.type===et.Normalized){let y=a[s],S=y+l;a[s]+=l,r>0?(y=y*100/r,S=S*100/r):(y=0,S=0),g.height=this.yScale(y)-this.yScale(S),g.x=0,g.y=this.yScale(S),g.offset0=y,g.offset1=S,l=(S-y).toFixed(2)+"%"}this.colors.scaleType===R.Ordinal?g.color=this.colors.getColor(h):this.type===et.Standard?(g.color=this.colors.getColor(l),g.gradientStops=this.colors.getLinearGradientStops(l)):(g.color=this.colors.getColor(g.offset1),g.gradientStops=this.colors.getLinearGradientStops(g.offset1,g.offset0));let v=m;return g.ariaLabel=m+" "+l.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(v=`${this.seriesName} \u2022 ${m}`,g.data.series=this.seriesName,g.ariaLabel=this.seriesName+" "+g.ariaLabel),g.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${pl(v)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(l):l.toLocaleString()}</span>
      `,g}),this.updateDataLabels()}updateDataLabels(){if(this.type===et.Stacked){this.barsForDataLabels=[];let t={};t.series=this.seriesName;let i=this.series.map(s=>s.value).reduce((s,r)=>r>0?s+r:s,0),a=this.series.map(s=>s.value).reduce((s,r)=>r<0?s+r:s,0);t.total=i+a,t.x=0,t.y=0,t.total>0?t.height=this.yScale(i):t.height=this.yScale(a),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{let i={};return i.series=this.seriesName??t.label,i.total=t.value,i.x=this.xScale(t.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:M.Top,this.tooltipType=this.tooltipDisabled?void 0:cn.tooltip}isActive(t){return this.activeEntries?this.activeEntries.find(a=>t.name===a.name&&t.value===a.value)!==void 0:!1}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}static{this.\u0275fac=function(i){return new(i||e)($(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},standalone:!1,features:[H],attrs:pm,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(i,a){i&1&&w(0,fm,2,2,"g",0)(1,xm,2,2,"g",0)(2,ym,2,2,"g",0),i&2&&(x("ngIf",!a.isSSR),f(),x("ngIf",a.isSSR),f(),x("ngIf",a.showDataLabel))},dependencies:[Ze,fe,yl,$m,Xm],encapsulation:2,data:{animation:[ts("animationState",[ns(":leave",[An({opacity:1}),is(500,An({opacity:0}))])])]},changeDetection:0})}}return e})(),Cl=(()=>{class e extends fl{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=it.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new k,this.deactivate=new k,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}ngOnChanges(){this.update()}update(){if(super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=bl({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`,this.showRefLines){let t=rt(this.chartElement.nativeElement).select(".bar-chart").node();rt(this.chartElement.nativeElement).selectAll(".ref-line").nodes().forEach(a=>t.appendChild(a))}}getXScale(){this.xDomain=this.getXDomain();let t=this.xDomain.length/(this.dims.width/this.barPadding+1);return wt().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let t=Ke().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){let t=this.results.map(s=>s.value),i=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let a=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(a=Math.max(a,...this.yAxisTicks)),[i,a]}onClick(t){this.select.emit(t)}setColors(){let t;this.schemeType===R.Ordinal?t=this.xDomain:t=this.yDomain,this.colors=new ln(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){let t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===R.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name);let a=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}static{this.\u0275fac=(()=>{let t;return function(a){return(t||(t=vn(e)))(a||e)}})()}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(i,a,s){if(i&1&&fi(s,hl,5),i&2){let r;de(r=me())&&(a.tooltipTemplate=r.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[bn,H],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"]],template:function(i,a){i&1&&(p(0,"ngx-charts-chart",0),I("legendLabelClick",function(r){return a.onClick(r)})("legendLabelActivate",function(r){return a.onActivate(r,!0)})("legendLabelDeactivate",function(r){return a.onDeactivate(r,!0)}),C(),p(1,"g",1),w(2,bm,1,12,"g",2)(3,Cm,1,13,"g",3),p(4,"g",4),I("activate",function(r){return a.onActivate(r)})("deactivate",function(r){return a.onDeactivate(r)})("select",function(r){return a.onClick(r)})("dataLabelHeightChanged",function(r){return a.onDataLabelMaxHeightChanged(r)}),u()()()),i&2&&(x("view",kn(22,dl,a.width,a.height))("showLegend",a.legend)("legendOptions",a.legendOptions)("activeEntries",a.activeEntries)("animations",a.animations),f(),D("transform",a.transform),f(),x("ngIf",a.xAxis),f(),x("ngIf",a.yAxis),f(),x("xScale",a.xScale)("yScale",a.yScale)("colors",a.colors)("series",a.results)("dims",a.dims)("gradient",a.gradient)("tooltipDisabled",a.tooltipDisabled)("tooltipTemplate",a.tooltipTemplate)("showDataLabel",a.showDataLabel)("dataLabelFormatting",a.dataLabelFormatting)("activeEntries",a.activeEntries)("roundEdges",a.roundEdges)("animations",a.animations)("noBarWhenZero",a.noBarWhenZero))},dependencies:[fe,Rm,Bm,ul,Wm],styles:[ml],encapsulation:2,changeDetection:0})}}return e})();var Tl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var Ym=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var Zm=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var jm=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var wl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})(),Qm=(()=>{class e{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=_a}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if(vi(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);let a=si().innerRadius(t).outerRadius(t).centroid(this.data),s=this.data.pos[1]/a[1];(this.data.pos[1]===0||a[1]===0)&&(s=1);let r=[s*a[0],s*a[1]];this.line=`M${a}L${r}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?oe.Start:oe.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}static{this.\u0275fac=function(i){return new(i||e)($(Pe))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},standalone:!1,features:[H],attrs:Tm,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(i,a){i&1&&(p(0,"title"),b(1),u(),C(),p(2,"g")(3,"text",0),b(4),u()(),V(5,"path",1)),i&2&&(f(),Te(a.label),f(),ue("transform",a.styleTransform)("transition",a.textTransition),D("transform",a.attrTransform),f(),ue("text-anchor",a.textAnchor())("shape-rendering","crispEdges"),Re("animation",a.animations),f(),Y(" ",a.labelTrim?a.trimLabel(a.label,a.labelTrimSize):a.label," "),f(),Re("animation",a.animations),D("d",a.line)("stroke",a.color))},encapsulation:2,changeDetection:0})}}return e})();var Ob=2*Math.PI;var qm=(()=>{class e{constructor(t){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new k,this.activate=new k,this.deactivate=new k,this.dblclick=new k,this.barOrientation=ae,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+xa().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(t=this.outerRadius*this.value/this.max),si().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){let t=rt(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(a){this._current=this._current||a;let s=Object.assign({},a);s.endAngle=s.startAngle;let r=Se(s,s);return this._current=r(0),function(o){return i(r(o))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=Se(this._current,a);return this._current=s(0),function(r){return i(s(r))}})}updateAnimation(){let t=rt(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=Se(this._current,a);return this._current=s(0),function(r){return i(s(r))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}static{this.\u0275fac=function(i){return new(i||e)($(be))}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[H],attrs:wm,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(i,a){i&1&&(C(),p(0,"g",0),w(1,km,2,3,"defs",1),p(2,"path",2),I("click",function(){return a.onClick()})("dblclick",function(r){return a.onDblClick(r)})("mouseenter",function(){return a.activate.emit(a.data)})("mouseleave",function(){return a.deactivate.emit(a.data)}),u()()),i&2&&(f(),x("ngIf",a.gradient),f(),ue("pointer-events",a.getPointerEvents()),Re("active",a.isActive),D("d",a.path)("fill",a.getGradient()))},dependencies:[fe,Nm],encapsulation:2,changeDetection:0})}}return e})(),Um=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new k,this.activate=new k,this.deactivate=new k,this.dblclick=new k,this.placementTypes=M,this.styleTypes=cn}ngOnChanges(t){this.update()}update(){let i=ga().value(a=>a.value).sort(null)(this.series);this.max=en(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return si().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(t){let s=t;s.forEach(r=>{r.pos=this.outerArc().centroid(r),r.pos[0]=1.5*this.outerRadius*(this.midAngle(r)<Math.PI?1:-1)});for(let r=0;r<s.length-1;r++){let o=s[r];if(this.labelVisible(o))for(let c=r+1;c<s.length;c++){let l=s[c];if(this.labelVisible(l)&&l.pos[0]*o.pos[0]>0){let h=10-Math.abs(l.pos[1]-o.pos[1]);h>0&&(l.pos[1]+=Math.sign(l.pos[0])*h)}}}return s}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return li(t.data.name)}defaultTooltipText(t){let i=this.label(t),a=li(t.data.value);return`
      <span class="tooltip-label">${pl(i)}</span>
      <span class="tooltip-val">${a}</span>
    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return this.activeEntries?this.activeEntries.find(a=>t.name===a.name&&t.series===a.series)!==void 0:!1}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=B({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[H],attrs:Sm,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(i,a){i&1&&w(0,Am,3,19,"g",0),i&2&&x("ngForOf",a.data)("ngForTrackBy",a.trackBy)},dependencies:[Ze,fe,yl,Qm,qm],encapsulation:2,changeDetection:0})}}return e})();var kl=(()=>{class e extends fl{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=it.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new k,this.select=new k,this.activate=new k,this.deactivate=new k}ngOnChanges(){this.update()}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=bl({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let t=this.margins[3]+this.dims.width/2,i=this.margins[0]+this.dims.height/2;this.translation=`translate(${t}, ${i})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,s)=>this.domain.indexOf(a.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new ln(this.scheme,R.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:R.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name);let a=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}static{this.\u0275fac=(()=>{let t;return function(a){return(t||(t=vn(e)))(a||e)}})()}static{this.\u0275cmp=B({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(i,a,s){if(i&1&&fi(s,hl,5),i&2){let r;de(r=me())&&(a.tooltipTemplate=r.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[bn,H],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(i,a){i&1&&(p(0,"ngx-charts-chart",0),I("legendLabelActivate",function(r){return a.onActivate(r,!0)})("legendLabelDeactivate",function(r){return a.onDeactivate(r,!0)})("legendLabelClick",function(r){return a.onClick(r)}),C(),p(1,"g",1)(2,"g",2),I("dblclick",function(r){return a.dblclick.emit(r)})("select",function(r){return a.onClick(r)})("activate",function(r){return a.onActivate(r)})("deactivate",function(r){return a.onDeactivate(r)}),u()()()),i&2&&(x("view",kn(21,dl,a.width,a.height))("showLegend",a.legend)("legendOptions",a.legendOptions)("activeEntries",a.activeEntries)("animations",a.animations),f(),D("transform",a.translation),f(),x("colors",a.colors)("series",a.data)("showLabels",a.labels)("labelFormatting",a.labelFormatting)("trimLabels",a.trimLabels)("maxLabelLength",a.maxLabelLength)("activeEntries",a.activeEntries)("innerRadius",a.innerRadius)("outerRadius",a.outerRadius)("explodeSlices",a.explodeSlices)("gradient",a.gradient)("animations",a.animations)("tooltipDisabled",a.tooltipDisabled)("tooltipTemplate",a.tooltipTemplate)("tooltipText",a.tooltipText))},dependencies:[ul,Um],styles:[ml,Dm],encapsulation:2,changeDetection:0})}}return e})();var va=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})(),Km=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e,va,wl]})}}return e})();var Jm=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var eg=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})();var tg=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e,va,Tl]})}}return e})();function ig(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var ng=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e]})}}return e})(),Sl=(()=>{class e{constructor(){ig()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Q({type:e})}static{this.\u0275inj=j({imports:[_e,Hm,Tl,Ym,Zm,jm,ng,wl,Km,Jm,va,eg,tg]})}}return e})();var sg=new gi("MAT_SORT_DEFAULT_OPTIONS"),Ll=(()=>{class e{_defaultOptions;_initializedStream=new wa(1);sortables=new Map;_stateChanges=new Mt;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new k;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,a=rg(t.start||this.start,i),s=a.indexOf(this.direction)+1;return s>=a.length&&(s=0),a[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||e)($(sg,8))};static \u0275dir=at({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ln],disabled:[2,"matSortDisabled","disabled",Ln]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[H]})}return e})();function rg(e,n){let t=["asc","desc"];return e=="desc"&&t.reverse(),n||t.push(""),t}var hg=()=>[5,10,25,100];function dg(e,n){e&1&&(p(0,"th",21),b(1,"Profile Image"),u())}function mg(e,n){if(e&1&&(p(0,"td",22),V(1,"img",23),u()),e&2){let t=n.$implicit;f(),x("src",t.profileImageUrl,Ia)("alt",t.fullName)}}function gg(e,n){e&1&&(p(0,"th",24),b(1," Full Name "),u())}function pg(e,n){if(e&1&&(p(0,"td",22),b(1),u()),e&2){let t=n.$implicit;f(),Y(" ",t.fullName," ")}}function ug(e,n){e&1&&(p(0,"th",21),b(1," Summary "),u())}function fg(e,n){if(e&1&&(p(0,"td",22),b(1),_t(2,"slice"),u()),e&2){let t=n.$implicit;f(),Tn(" ",ja(2,2,t.perfectCandidateReason,0,100),"",(t.perfectCandidateReason==null?null:t.perfectCandidateReason.length)>100?"\u2026":""," ")}}function _g(e,n){e&1&&(p(0,"th",24),b(1," Email "),u())}function xg(e,n){if(e&1&&(p(0,"td",22),b(1),u()),e&2){let t=n.$implicit;f(),Y(" ",t.email," ")}}function vg(e,n){e&1&&(p(0,"th",24),b(1," Age "),u())}function yg(e,n){if(e&1&&(p(0,"td",22),b(1),u()),e&2){let t=n.$implicit;f(),Y(" ",t.age," ")}}function bg(e,n){e&1&&(p(0,"th",24),b(1," City "),u())}function Cg(e,n){if(e&1&&(p(0,"td",22),b(1),u()),e&2){let t=n.$implicit;f(),Y(" ",t.city," ")}}function Tg(e,n){e&1&&(p(0,"th",21),b(1," Actions "),u())}function wg(e,n){if(e&1){let t=K();p(0,"td",22)(1,"button",25),I("click",function(a){let s=F(t).$implicit,r=_();return a.stopPropagation(),O(r.onView(s.id))}),p(2,"mat-icon"),b(3,"visibility"),u()(),p(4,"button",26),I("click",function(a){let s=F(t).$implicit,r=_();return a.stopPropagation(),O(r.onEdit(s.id))}),p(5,"mat-icon"),b(6,"edit"),u()(),p(7,"button",27),I("click",function(a){let s=F(t).$implicit,r=_();return a.stopPropagation(),O(r.onDelete(s.id))}),p(8,"mat-icon"),b(9,"delete"),u()()()}}function kg(e,n){e&1&&V(0,"tr",28)}function Sg(e,n){if(e&1){let t=K();p(0,"tr",29),I("click",function(){let a=F(t).$implicit,s=_();return O(s.onRowClick(a))}),u()}}function Lg(e,n){if(e&1&&(p(0,"tr",30)(1,"td",31),b(2),u()()),e&2){_();let t=Ye(5);f(2),Y('No candidates found matching filter "',t.value,'"')}}var hn=class e{candidates=[];viewCandidate=new k;editCandidate=new k;deleteCandidate=new k;focusCandidate=new k;displayedColumns=["profileImage","fullName","summary","email","age","city","actions"];dataSource=new Ls;paginator;sort;ngOnInit(){this.dataSource.data=this.candidates}ngOnChanges(n){n.candidates&&(this.dataSource.data=this.candidates,this.paginator&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){let t=n.target.value;this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onView(n){this.viewCandidate.emit(n)}onEdit(n){this.editCandidate.emit(n)}onDelete(n){this.deleteCandidate.emit(n)}onRowClick(n){this.focusCandidate.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-candidates-list"]],viewQuery:function(t,i){if(t&1&&(Ce(Ci,5),Ce(Ll,5)),t&2){let a;de(a=me())&&(i.paginator=a.first),de(a=me())&&(i.sort=a.first)}},inputs:{candidates:"candidates"},outputs:{viewCandidate:"viewCandidate",editCandidate:"editCandidate",deleteCandidate:"deleteCandidate",focusCandidate:"focusCandidate"},features:[H],decls:35,vars:5,consts:[["input",""],[1,"list-container"],["appearance","fill",1,"filter-field"],["matInput","","placeholder","Search by name, email...",3,"keyup"],["matSuffix",""],[1,"table-wrapper","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","profileImage"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","summary"],["matColumnDef","email"],["matColumnDef","age"],["matColumnDef","city"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","clickable-row",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of candidates",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"profile-thumbnail",3,"src","alt"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","color","primary","aria-label","View",3,"click"],["mat-icon-button","","color","accent","aria-label","Edit",3,"click"],["mat-icon-button","","color","warn","aria-label","Delete",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable-row",3,"click"],[1,"mat-row"],["colspan","6",1,"mat-cell"]],template:function(t,i){if(t&1){let a=K();p(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),b(3,"Filter Candidates"),u(),p(4,"input",3,0),I("keyup",function(r){return F(a),O(i.applyFilter(r))}),u(),p(6,"mat-icon",4),b(7,"search"),u()(),p(8,"div",5)(9,"table",6),ce(10,7),w(11,dg,2,0,"th",8)(12,mg,2,2,"td",9),he(),ce(13,10),w(14,gg,2,0,"th",11)(15,pg,2,1,"td",9),he(),ce(16,12),w(17,ug,2,0,"th",8)(18,fg,3,6,"td",9),he(),ce(19,13),w(20,_g,2,0,"th",11)(21,xg,2,1,"td",9),he(),ce(22,14),w(23,vg,2,0,"th",11)(24,yg,2,1,"td",9),he(),ce(25,15),w(26,bg,2,0,"th",11)(27,Cg,2,1,"td",9),he(),ce(28,16),w(29,Tg,2,0,"th",8)(30,wg,10,0,"td",9),he(),w(31,kg,1,0,"tr",17)(32,Sg,1,0,"tr",18)(33,Lg,3,1,"tr",19),u(),V(34,"mat-paginator",20),u()()}t&2&&(f(9),x("dataSource",i.dataSource),f(22),x("matHeaderRowDef",i.displayedColumns),f(),x("matRowDefColumns",i.displayedColumns),f(2),x("pageSizeOptions",wn(4,hg)))},dependencies:[Be,Ka,yi,Ti,os,ms,ds,cs,hs,bi,fs,xs,Cs,vs,_s,Ts,ys,bs,ws,ks,Ss,Ci],styles:[".table-container[_ngcontent-%COMP%]{margin-top:1rem;background-color:#0d1a33;border-radius:8px;overflow:hidden;box-shadow:0 4px 15px #0003}.mat-mdc-table[_ngcontent-%COMP%]{width:100%;box-shadow:none;background:#0f1e3cb3;border-radius:8px}.mat-mdc-table[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]{color:#e0f2f7}.mat-mdc-header-cell[_ngcontent-%COMP%]{background-color:#4185f433;color:#a0c0ff;font-weight:700;font-family:Roboto,sans-serif;font-size:1rem;padding:12px 16px}.mat-mdc-cell[_ngcontent-%COMP%]{padding:8px 16px}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#4185f41a;cursor:pointer}.profile-image-thumb[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;margin-right:10px;vertical-align:middle;border:1px solid rgba(255,255,255,.2)}.no-image-placeholder[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;background-color:#ffffff1a;color:#ffffff80;margin-right:10px;vertical-align:middle;font-size:1.5em}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#a0c0ff;transition:color .2s ease-in-out}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#4185f4;background-color:transparent}.mat-mdc-paginator[_ngcontent-%COMP%]{background:#0f1e3ce6;border-top:1px solid rgba(65,133,244,.2);color:#e0f2f7;padding:8px 16px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#e0f2f7}.mat-mdc-select-panel[_ngcontent-%COMP%]{background:#0f1e3ce6;color:#e0f2f7}.mat-mdc-option[_ngcontent-%COMP%]{color:#e0f2f7}.mat-mdc-option.mat-mdc-option-active[_ngcontent-%COMP%]{background-color:#4185f41a}.mat-mdc-option.mat-mdc-option-selected[_ngcontent-%COMP%]:not(.mat-mdc-option-multiple){background-color:#4185f433;color:#a0c0ff}.clickable-row[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 768px){.mat-mdc-table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%]{min-width:600px}}"]})};var dn=class e{http=U(Ja);apiKey=Vs.googleMapsApiKey||null;cache=new Map;inFlight=new Map;getCoordinates(n){if(!n)return Et(null);let t=n.toLowerCase().trim();if(this.cache.has(t))return Et(this.cache.get(t)||null);if(this.inFlight.has(t))return this.inFlight.get(t);if(!this.apiKey)return this.cache.set(t,null),Et(null);let i=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(n)}&key=${this.apiKey}`,a=this.http.get(i).pipe(Ft(s=>{if(s?.status==="OK"&&s.results?.length){let r=s.results[0].geometry.location,o={lat:r.lat,lng:r.lng};return this.cache.set(t,o),o}return this.cache.set(t,null),null}),Aa(()=>(this.cache.set(t,null),Et(null))),Ma({bufferSize:1,refCount:!0}));return this.inFlight.set(t,a),a.subscribe({next:()=>this.inFlight.delete(t),error:()=>this.inFlight.delete(t)}),a}static \u0275fac=function(t){return new(t||e)};static \u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})};function Ag(e,n){e&1&&(p(0,"div",4),V(1,"mat-spinner",6),p(2,"p"),b(3,"Loading Mission Data..."),u()())}function Dg(e,n){e&1&&(p(0,"mat-card",22)(1,"mat-card-title"),b(2,"No Candidates Found"),u(),p(3,"mat-card-content")(4,"p"),b(5,"No candidate submissions were found."),u()()())}function Mg(e,n){if(e&1){let t=K();p(0,"app-candidates-list",27),I("viewCandidate",function(a){F(t);let s=_(2);return O(s.onViewCandidate(a))})("editCandidate",function(a){F(t);let s=_(2);return O(s.onEditCandidate(a))})("deleteCandidate",function(a){F(t);let s=_(2);return O(s.onDeleteCandidate(a))})("focusCandidate",function(a){F(t);let s=_(2);return O(s.onFocusCandidate(a))}),u()}if(e&2){let t=_(2);x("candidates",t.candidates)}}function Eg(e,n){if(e&1&&V(0,"map-marker",26),e&2){let t=n.$implicit,i=_(2);x("position",t)("options",i.markerOptions)}}function Fg(e,n){if(e&1){let t=K();p(0,"div",5)(1,"mat-tab-group",7),Wa("selectedIndexChange",function(a){F(t);let s=_();return Xa(s.activeTabIndex,a)||(s.activeTabIndex=a),O(a)}),I("selectedIndexChange",function(a){F(t);let s=_();return O(s.onTabChange(a))}),p(2,"mat-tab",8)(3,"div",9)(4,"mat-card",10)(5,"mat-card-title"),b(6,"Total Applicants"),u(),p(7,"div",11),b(8),u()(),p(9,"mat-card",10)(10,"mat-card-title"),b(11,"Total Visits"),u(),p(12,"div",11),b(13),_t(14,"number"),u()(),p(15,"mat-card",10)(16,"mat-card-title"),b(17,"Total Registrations"),u(),p(18,"div",11),b(19),_t(20,"number"),u()(),p(21,"mat-card",10)(22,"mat-card-title"),b(23,"Conversion Rate"),u(),p(24,"div",11),b(25),_t(26,"percent"),u()()(),p(27,"div",12)(28,"mat-card")(29,"mat-card-header")(30,"mat-card-title"),b(31,"Age Breakdown"),u()(),p(32,"mat-card-content",13),V(33,"ngx-charts-pie-chart",14),u()(),p(34,"mat-card")(35,"mat-card-header")(36,"mat-card-title"),b(37,"Top Cities"),u()(),p(38,"mat-card-content",13),V(39,"ngx-charts-bar-vertical",15),u()(),p(40,"mat-card")(41,"mat-card-header")(42,"mat-card-title"),b(43,"Visits vs Registrations"),u()(),p(44,"mat-card-content",13),V(45,"ngx-charts-bar-vertical",16),u()()()(),p(46,"mat-tab",17)(47,"div",18)(48,"div",19)(49,"div",20)(50,"h2"),b(51,"Live Candidate List"),u(),p(52,"button",21),I("click",function(){F(t);let a=_();return O(a.onAddCandidate())}),p(53,"mat-icon"),b(54,"add"),u(),b(55," Add New Candidate "),u()(),w(56,Dg,6,0,"mat-card",22)(57,Mg,1,1,"app-candidates-list",23),u(),p(58,"mat-card",24)(59,"mat-card-header")(60,"mat-card-title"),b(61,"Candidate Locations"),u()(),p(62,"mat-card-content",24)(63,"google-map",25),Na(64,Eg,1,2,"map-marker",26,Ga),u()()()()()()()}if(e&2){let t=_();f(),$a("selectedIndex",t.activeTabIndex),f(7),Te(t.candidates.length),f(5),Y(" ",Sn(14,33,(t.conversionData[0]==null?null:t.conversionData[0].value)||0)," "),f(6),Y(" ",Sn(20,35,(t.conversionData[1]==null?null:t.conversionData[1].value)||0)," "),f(6),Y(" ",Za(26,37,((t.conversionData[1]==null?null:t.conversionData[1].value)||0)/t.Math.max((t.conversionData[0]==null?null:t.conversionData[0].value)||0,1),"1.0-1")," "),f(8),x("results",t.ageBreakdownData)("scheme",t.colorScheme)("labels",!0)("doughnut",!0)("arcWidth",.23)("legend",!1)("animations",!0),f(6),x("results",t.cityDistributionData)("scheme",t.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!1)("roundDomains",!0)("showDataLabel",!0)("animations",!0),f(6),x("results",t.conversionData)("scheme",t.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!1)("roundDomains",!0)("animations",!0)("showDataLabel",!0)("barPadding",12),f(11),ui(t.candidates.length===0?56:57),f(7),x("center",t.mapCenter)("zoom",t.mapZoom)("width","100%"),f(),Ha(t.markerPositions)}}var Al=class e{googleMap;candidates$;candidates=[];destroy$=new Mt;activeTabIndex=0;isLoadingData=!0;Math=Math;ageBreakdownData=[];cityDistributionData=[];conversionData=[];colorScheme={domain:["#a0c0ff","#4185f4","#f7e733","#ff6f6f","#8B008B","#5AA454"],group:R.Ordinal,selectable:!0,name:"IISA Scheme"};mapCenter={lat:31.7683,lng:35.2137};mapZoom=8;markerPositions=[];markerOptions={draggable:!1};candidateService=U(ss);authService=U(as);router=U(es);geocodingService=U(dn);candidateNavService=U(zs);analyticsService=U(rs);constructor(){this.candidates$=this.candidateService.getAllCandidates()}ngOnInit(){let n=sessionStorage.getItem("iisa_dashboard_active_tab");this.activeTabIndex=n?Number(n):0,this.candidates$.pipe(ft(this.destroy$)).subscribe(t=>{this.candidates=t||[],this.processAnalytics(this.candidates),this.isLoadingData=!1;let i=(this.candidates||[]).filter(a=>!!a?.id).map(a=>({id:String(a.id)}));this.candidateNavService.setList(i)}),this.analyticsService.getAnalyticsData().pipe(ft(this.destroy$)).subscribe(({totalVisits:t,totalRegistrations:i})=>{this.conversionData=[{name:"Visits",value:t||0},{name:"Registrations",value:i||0}]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}safeGetVisitsCount(){try{if(typeof this.analyticsService.getVisitsCount=="function")return this.analyticsService.getVisitsCount();let n=localStorage.getItem("iisa_visits_count");return n&&Number(n)||0}catch{return 0}}safeGetRegistrationsCount(){try{if(typeof this.analyticsService.getRegistrationsCount=="function")return this.analyticsService.getRegistrationsCount();let n=localStorage.getItem("iisa_registrations_count");return n&&Number(n)||0}catch{return 0}}processAnalytics(n){let t={"18-25":0,"26-35":0,"36-45":0,"46+":0};for(let o of n){let c=Number(o.age)||0;c<=25?t["18-25"]++:c<=35?t["26-35"]++:c<=45?t["36-45"]++:t["46+"]++}this.ageBreakdownData=Object.entries(t).map(([o,c])=>({name:o,value:c}));let i=new Map;n.forEach(o=>{let c=(o.city||"").toString().trim();c&&i.set(c,(i.get(c)||0)+1)});let a=Array.from(i.entries()).sort((o,c)=>c[1]-o[1]).slice(0,7).map(([o,c])=>({name:o,value:c}));this.cityDistributionData=a;let s=Array.from(i.keys());if(s.length===0){this.markerPositions=[],this.fitMapToMarkers();return}let r=s.map(o=>this.geocodingService.getCoordinates(o).pipe(Ft(c=>c)));Sa(r).pipe(ft(this.destroy$)).subscribe({next:o=>{this.markerPositions=o.filter(c=>!!c),this.fitMapToMarkers()},error:()=>{this.markerPositions=[],this.fitMapToMarkers()}})}fitMapToMarkers(){let n=this.googleMap?.googleMap;if(n){if(this.markerPositions.length===1){this.mapCenter=this.markerPositions[0],n.setCenter(this.mapCenter),n.setZoom(10);return}if(this.markerPositions.length>1){let t=new google.maps.LatLngBounds;this.markerPositions.forEach(i=>t.extend(i)),n.fitBounds(t,48);return}n.setCenter(this.mapCenter),n.setZoom(this.mapZoom)}}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/login"])})}onTabChange(n){this.activeTabIndex=n,sessionStorage.setItem("iisa_dashboard_active_tab",n.toString())}onViewCandidate(n){this.router.navigate(["/candidates",n])}onEditCandidate(n){this.router.navigate(["/candidates/edit",n])}onAddCandidate(){this.router.navigate(["/candidates/add"])}onDeleteCandidate(n){confirm("Are you sure you want to delete this candidate? This action cannot be undone.")&&this.candidateService.deleteCandidate(n).subscribe({next:()=>{},error:t=>console.error("Error deleting candidate:",t)})}onFocusCandidate(n){let t=(n?.city||"").toString().trim();t&&this.geocodingService.getCoordinates(t).pipe(ft(this.destroy$)).subscribe({next:i=>{if(!i)return;this.mapCenter=i;let a=this.googleMap?.googleMap;a&&(a.panTo(i),a.setZoom(11))},error:()=>{}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["iisa-dashboard"]],viewQuery:function(t,i){if(t&1&&Ce(ki,5),t&2){let a;de(a=me())&&(i.googleMap=a.first)}},decls:10,vars:1,consts:[["color","primary","role","banner",1,"topbar"],[1,"toolbar-title"],["mat-button","","aria-label","Log out",1,"logout-btn",3,"click"],[1,"logout-text"],[1,"loading-state"],[1,"container"],["diameter","50"],["animationDuration","200ms",1,"dash-tabs",3,"selectedIndexChange","selectedIndex"],["label","Analytics"],[1,"grid","grid-summary"],[1,"kpi-card"],[1,"kpi-number"],[1,"grid","grid-analytics"],[1,"chart-box"],[3,"results","scheme","labels","doughnut","arcWidth","legend","animations"],[3,"results","scheme","xAxis","yAxis","legend","roundDomains","showDataLabel","animations"],[3,"results","scheme","xAxis","yAxis","legend","roundDomains","animations","showDataLabel","barPadding"],["label","Candidates"],[1,"candidates-grid"],[1,"candidate-list"],[1,"list-header"],["mat-raised-button","","color","primary",3,"click"],[1,"empty-state-card"],[3,"candidates"],[1,"map-box"],[3,"center","zoom","width"],[3,"position","options"],[3,"viewCandidate","editCandidate","deleteCandidate","focusCandidate","candidates"]],template:function(t,i){t&1&&(p(0,"mat-toolbar",0)(1,"span",1),b(2,"Dashboard"),u(),p(3,"button",2),I("click",function(){return i.logout()}),p(4,"mat-icon"),b(5,"logout"),u(),p(6,"span",3),b(7,"Log out"),u()()(),w(8,Ag,4,0,"div",4)(9,Fg,66,40,"div",5)),t&2&&(f(8),ui(i.isLoadingData?8:9))},dependencies:[Be,qa,Ua,yi,Sl,Cl,kl,ki,Gs,hn,Ti,ls,Ds,Es,Fs,Ms,bi,us,As,Os,Is],styles:["[_nghost-%COMP%]{display:block}.topbar[_ngcontent-%COMP%]{background:#0a1124;color:#e6f1ff;border-bottom:1px solid rgba(0,157,255,.25);display:flex;align-items:center;justify-content:space-between;height:64px;padding:0 1.5rem;font-family:Orbitron,sans-serif;position:sticky;top:0;z-index:1000;box-shadow:0 0 8px #0096ff26}.toolbar-title[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-weight:700;font-size:1.2rem;letter-spacing:.06em;display:flex;align-items:center;color:#e6f1ff}.logout-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;text-transform:none;font-family:Orbitron,sans-serif;font-weight:500;font-size:.95rem;color:#e6f1ff;transition:opacity .2s ease}.logout-btn[_ngcontent-%COMP%]:hover{opacity:.85}.logout-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#e6f1ff}.container[_ngcontent-%COMP%]{max-width:90%;margin:0 auto;padding:16px 0 32px}mat-card[_ngcontent-%COMP%]{background:#0f1e3cf2;border:1px solid rgba(65,133,244,.3);border-radius:14px;color:#e0f2f7;box-shadow:0 8px 24px #0006;display:flex;flex-direction:column;overflow:hidden}mat-card-title[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;color:#a0c0ff;font-size:clamp(.9rem,1.4vw,1.2rem);letter-spacing:.03em}[_nghost-%COMP%]     .dash-tabs .mat-mdc-tab .mdc-tab__text-label{color:#a0c0ff}[_nghost-%COMP%]     .dash-tabs .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:#e8f0ff!important;text-shadow:0 0 10px rgba(106,164,255,.7)}[_nghost-%COMP%]     .dash-tabs .mdc-tab-indicator__content--underline{border-color:#4da6ff!important;border-width:3px!important;box-shadow:0 0 12px 2px #4da6ffcc}.grid-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin:48px auto 0;max-width:1200px}.kpi-card[_ngcontent-%COMP%]{background:#0f1e3cf2;border:1px solid rgba(65,133,244,.3);border-radius:14px;text-align:center;padding:20px 0;transition:.25s ease}.kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 24px #00000080}.kpi-number[_ngcontent-%COMP%]{font-size:3rem;color:#6aa4ff;text-shadow:0 0 10px rgba(106,164,255,.35)}.grid-analytics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:24px;width:100%;margin-top:32px}.grid-analytics[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0}.grid-analytics[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%;margin:0}.chart-box[_ngcontent-%COMP%], .map-box[_ngcontent-%COMP%]{width:100%;height:360px;padding:0}.chart-box[_ngcontent-%COMP%]   ngx-charts-pie-chart[_ngcontent-%COMP%], .chart-box[_ngcontent-%COMP%]   ngx-charts-bar-vertical[_ngcontent-%COMP%]{width:100%;height:100%;display:block}  ngx-charts text, [_nghost-%COMP%]     .ngx-charts text, [_nghost-%COMP%]     .ngx-charts .tick text, [_nghost-%COMP%]     .ngx-charts .legend-label-text, [_nghost-%COMP%]     .ngx-charts .label, [_nghost-%COMP%]     .ngx-charts .data-label, [_nghost-%COMP%]     .ngx-charts .pie-label{fill:#e0f2ff!important;font-weight:600!important;font-size:13px!important}[_nghost-%COMP%]     ngx-charts .axis path.domain, [_nghost-%COMP%]     ngx-charts .tick line{stroke:#a0c0ff40!important}[_nghost-%COMP%]     ngx-charts .axis text{fill:#b9ccff!important;font-weight:500!important}google-map[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;border:1px solid rgba(80,150,255,.2);box-shadow:0 6px 24px #00000059}.candidates-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(420px,1fr));gap:24px;align-items:start;margin-top:32px}.candidates-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0}.candidates-grid[_ngcontent-%COMP%]   .map-box[_ngcontent-%COMP%]{height:500px}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;flex:1 1 auto}.list-header[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 1200px){.grid-analytics[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 900px){.grid-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}.grid-analytics[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.chart-box[_ngcontent-%COMP%], .map-box[_ngcontent-%COMP%]{height:280px}.kpi-number[_ngcontent-%COMP%]{font-size:2.4rem}}@media (max-width: 900px){.candidates-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.candidates-grid[_ngcontent-%COMP%]   .map-box[_ngcontent-%COMP%]{height:360px}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.list-header[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-left:0}}"]})};export{Al as DashboardComponent};
