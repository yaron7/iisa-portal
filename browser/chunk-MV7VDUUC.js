import"./chunk-GGQ7LRWG.js";import{c as B,d as w,f as y,g as P,h as O}from"./chunk-W4BNGQYG.js";import{a as Ct,b as ht,c as vt}from"./chunk-UVQFYTA5.js";import{a as tt}from"./chunk-ZY6XP4WM.js";import{A as xt,a as Z,d as rt,e as at,f as lt,g as mt,h as dt,i as ct,j as st}from"./chunk-6BDKQN3U.js";import"./chunk-W74OV75A.js";import{$ as et,a as j,b as c,ca as it,e as q,f as W,h as $,ha as nt,i as H,j as J,k as X,la as ot,na as pt,o as K,oa as ft,p as Q,pa as ut,qa as gt,ra as _t,sa as bt}from"./chunk-OHTKK6G5.js";import{h as z,l as Y,u as U,w as G}from"./chunk-WJAPHO4V.js";import{$ as D,Ac as S,Cb as _,J as F,Jb as s,Ob as b,Tb as i,Ub as e,Vb as p,Zb as x,a as M,aa as A,b as I,bc as g,cc as d,ib as T,k,la as C,lb as m,lc as N,mc as n,nc as R,pc as V,ua as f,va as u,vc as E,xb as L,yc as v}from"./chunk-FXQC5WQD.js";var Mt=()=>["(cities)"],Et=()=>["il"];function wt(r,o){if(r&1){let t=x();i(0,"p",11),n(1," You can edit your application until "),i(2,"strong"),n(3),v(4,"date"),e(),n(5,". "),e(),i(6,"button",12),g("click",function(){f(t);let a=d(2);return u(a.editMySubmission())}),i(7,"mat-icon"),n(8,"edit"),e(),n(9," Edit My Application "),e()}if(r&2){let t=d(2);m(3),R(S(4,1,t.reEditExpiresDate,"medium"))}}function Pt(r,o){if(r&1){let t=x();i(0,"div",7)(1,"h2"),n(2,"APPLICATION RECEIVED"),e(),i(3,"mat-icon",9),n(4,"check_circle"),e(),i(5,"p"),n(6,"Thank you for your submission. We are one step closer to history."),e(),_(7,wt,10,4),i(8,"button",10),g("click",function(){f(t);let a=d();return u(a.resetState())}),n(9," Return to Home "),e()()}if(r&2){let t=d();m(7),b(t.canReEdit?7:-1)}}function Ot(r,o){if(r&1){let t=x();i(0,"div",8)(1,"mat-card")(2,"mat-card-header")(3,"mat-icon",13),n(4,"history"),e(),i(5,"mat-card-title"),n(6,"Welcome Back, Applicant!"),e()(),i(7,"mat-card-content")(8,"p"),n(9,"You have an existing application in progress. You can edit it until:"),e(),i(10,"p",14),n(11),v(12,"date"),v(13,"date"),e()(),i(14,"mat-card-actions",15)(15,"button",16),g("click",function(){f(t);let a=d();return u(a.beginApplication())}),n(16,"Start a New Application"),e(),i(17,"button",12),g("click",function(){f(t);let a=d();return u(a.editMySubmission())}),i(18,"mat-icon"),n(19,"edit"),e(),n(20," Edit My Application "),e()()()()}if(r&2){let t=d();m(11),V(" ",S(12,2,t.reEditExpiresDate,"fullDate")," at ",S(13,5,t.reEditExpiresDate,"shortTime")," ")}}function It(r,o){if(r&1){let t=x();i(0,"div",17)(1,"h1"),n(2,"ISRAEL'S NEXT LEAP"),e(),i(3,"p"),n(4," The first Israeli public space flight is now open for registration. Start your journey to the stars. "),e(),i(5,"button",19),g("click",function(){f(t);let a=d(2);return u(a.beginApplication())}),n(6," BEGIN APPLICATION "),e()()}}function kt(r,o){r&1&&n(0,"Your Personal Details")}function Ft(r,o){r&1&&n(0,"Tell Us About You")}function Dt(r,o){r&1&&n(0,"Upload Profile Image")}function At(r,o){if(r&1&&(i(0,"div",36),p(1,"img",40),e()),r&2){let t=d(3);m(),s("src",t.imagePreview,T)}}function Tt(r,o){r&1&&(i(0,"span"),n(1,"Submit Final Application"),e())}function Lt(r,o){r&1&&p(0,"mat-progress-spinner",39)}function Nt(r,o){if(r&1){let t=x();i(0,"div",18)(1,"h2"),n(2,"Application Portal"),e(),i(3,"mat-stepper",20,0)(5,"mat-step",21)(6,"form",22),_(7,kt,1,0,"ng-template",23),i(8,"mat-form-field")(9,"mat-label"),n(10,"Full Name"),e(),p(11,"input",24),e(),i(12,"mat-form-field")(13,"mat-label"),n(14,"Email"),e(),p(15,"input",25),e(),i(16,"mat-form-field")(17,"mat-label"),n(18,"Phone"),e(),p(19,"input",26),e(),i(20,"mat-form-field")(21,"mat-label"),n(22,"Age"),e(),p(23,"input",27),e(),i(24,"mat-form-field")(25,"mat-label"),n(26,"City or region"),e(),i(27,"input",28),g("placeSelected",function(a){f(t);let h=d(2);return u(h.onCitySelected(a))}),e()(),i(28,"div")(29,"button",29),n(30,"Next"),e()()()(),i(31,"mat-step",21)(32,"form",22),_(33,Ft,1,0,"ng-template",23),i(34,"mat-form-field")(35,"mat-label"),n(36,"Hobbies"),e(),p(37,"textarea",30),e(),i(38,"mat-form-field")(39,"mat-label"),n(40,"Why are you the perfect candidate?"),e(),p(41,"textarea",31),e(),i(42,"div")(43,"button",32),n(44,"Back"),e(),i(45,"button",29),n(46,"Next"),e()()()(),i(47,"mat-step",21)(48,"form",22),_(49,Dt,1,0,"ng-template",23),i(50,"div",33)(51,"button",34),g("click",function(){f(t);let a=N(56);return u(a.click())}),i(52,"mat-icon"),n(53,"upload"),e(),n(54," Choose Image (JPEG/PNG) "),e(),i(55,"input",35,1),g("change",function(a){f(t);let h=d(2);return u(h.onFileSelected(a))}),e()(),_(57,At,2,1,"div",36),i(58,"div",37)(59,"button",32),n(60,"Back"),e(),i(61,"button",38),g("click",function(){f(t);let a=d(2);return u(a.onSubmit())}),_(62,Tt,2,0,"span")(63,Lt,1,0,"mat-progress-spinner",39),e()()()()()()}if(r&2){let t=d(2);s("@formFade",t.formState),m(5),s("stepControl",t.personalInfoForm),m(),s("formGroup",t.personalInfoForm),m(21),s("types",E(12,Mt))("country",E(13,Et)),m(4),s("stepControl",t.freeTextForm),m(),s("formGroup",t.freeTextForm),m(15),s("stepControl",t.imageForm),m(),s("formGroup",t.imageForm),m(9),b(t.imagePreview?57:-1),m(4),s("disabled",t.isSubmitting),m(),b(t.isSubmitting?63:62)}}function Rt(r,o){if(r&1&&_(0,It,7,0,"div",17)(1,Nt,64,14,"div",18),r&2){let t=d();b(t.formState==="hidden"?0:-1),m(),b(t.formState==="visible"?1:-1)}}var St=3,yt=class r{personalInfoForm;freeTextForm;imageForm;selectedFile=null;imagePreview=null;isSubmitting=!1;submissionSuccess=!1;formState="hidden";canReEdit=!1;reEditCandidateId=null;reEditExpiresDate=null;hideReEditCard=!1;routerSubscription;destroy$=new k;fb=C(K);router=C(G);candidateService=C(Z);analyticsService=C(tt);constructor(){this.personalInfoForm=this.fb.group({fullName:["",[c.required,ht]],email:["",[c.required,c.email]],phone:["",[c.required,c.pattern(/^0(?:[23489]\d{7}|5\d{8})$/)]],age:[null,[c.required,c.min(18),c.max(100)]],city:["",c.required],cityLat:[null],cityLng:[null]}),this.freeTextForm=this.fb.group({hobbies:[""],perfectCandidateReason:["",[c.required,c.maxLength(1e3)]]}),this.imageForm=this.fb.group({profileImage:[null,c.required]})}get fullName(){return this.personalInfoForm.get("fullName")}get email(){return this.personalInfoForm.get("email")}get phone(){return this.personalInfoForm.get("phone")}get age(){return this.personalInfoForm.get("age")}get city(){return this.personalInfoForm.get("city")}get hobbies(){return this.freeTextForm.get("hobbies")}get perfectCandidateReason(){return this.freeTextForm.get("perfectCandidateReason")}get profileImage(){return this.imageForm.get("profileImage")}ngOnInit(){this.analyticsService.incrementVisits(),this.checkReEditEligibility(),this.routerSubscription=this.router.events.pipe(F(o=>o instanceof U)).subscribe(o=>{o.urlAfterRedirects==="/"&&(this.resetState(),this.checkReEditEligibility())})}checkReEditEligibility(){let o=localStorage.getItem("iisa_candidate_id"),t=localStorage.getItem("iisa_registration_date");if(o&&t){let l=new Date(t),a=new Date(l);a.setDate(l.getDate()+St),new Date<a?(this.canReEdit=!0,this.reEditCandidateId=o,this.reEditExpiresDate=a):(localStorage.removeItem("iisa_candidate_id"),localStorage.removeItem("iisa_registration_date"),this.canReEdit=!1)}else this.canReEdit=!1;this.hideReEditCard=!1}resetState(){this.formState="hidden",this.submissionSuccess=!1,this.isSubmitting=!1,this.imagePreview=null,this.selectedFile=null,this.personalInfoForm.reset(),this.freeTextForm.reset(),this.imageForm.reset(),this.hideReEditCard=!1}ngOnDestroy(){this.routerSubscription?.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}beginApplication(){this.formState="visible",this.hideReEditCard=!0}onFileSelected(o){let t=o.target.files?.[0];if(t){this.selectedFile=t,this.imageForm.patchValue({profileImage:t});let l=new FileReader;l.onload=()=>this.imagePreview=l.result,l.readAsDataURL(t)}}onCitySelected(o){this.personalInfoForm.patchValue({city:o.city||o.formattedAddress,cityLat:o.lat,cityLng:o.lng})}onSubmit(){if(!this.personalInfoForm.valid||!this.freeTextForm.valid||!this.imageForm.valid||!this.selectedFile){this.personalInfoForm.markAllAsTouched(),this.freeTextForm.markAllAsTouched(),this.imageForm.markAllAsTouched();return}this.isSubmitting=!0,this.candidateService.uploadProfileImage(this.selectedFile).pipe(D(o=>{let t=I(M(M({},this.personalInfoForm.value),this.freeTextForm.value),{profileImageUrl:o,registrationDate:new Date,lastUpdated:new Date}),l={fullName:t.fullName,email:t.email,phone:t.phone,age:t.age,city:t.city,hobbies:t.hobbies,perfectCandidateReason:t.perfectCandidateReason,profileImageUrl:t.profileImageUrl,registrationDate:t.registrationDate,lastUpdated:t.lastUpdated};return this.candidateService.addCandidate(l)}),A(this.destroy$)).subscribe({next:o=>{if(this.submissionSuccess=!0,this.isSubmitting=!1,this.analyticsService.incrementRegistrations(),o&&o.id){let t=o.id;localStorage.setItem("iisa_candidate_id",t);let l=new Date;localStorage.setItem("iisa_registration_date",l.toISOString()),this.reEditCandidateId=t;let a=new Date(l);a.setDate(a.getDate()+St),this.reEditExpiresDate=a,this.canReEdit=!0,this.hideReEditCard=!1}},error:o=>{console.error("Submission failed",o),this.isSubmitting=!1}})}editMySubmission(){this.reEditCandidateId&&this.router.navigate(["/candidates/edit",this.reEditCandidateId])}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=L({type:r,selectors:[["iisa-landing"]],decls:9,vars:1,consts:[["stepper",""],["fileInput",""],[1,"video-background"],["autoplay","","muted","","loop","","playsinline",""],["src","assets/videos/earth-from-space.mp4","type","video/mp4"],[1,"overlay"],[1,"content-container"],[1,"thank-you-card"],[1,"re-edit-card"],[1,"success-icon"],["mat-button","","color","primary",1,"return-home-btn",3,"click"],[1,"re-edit-success-info"],["mat-flat-button","","color","accent",3,"click"],["mat-card-avatar",""],[1,"expiry-date"],["align","end"],["mat-button","",3,"click"],[1,"hero-section"],[1,"form-container"],["mat-raised-button","","color","primary",1,"cta-button",3,"click"],["orientation","vertical","linear",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","normalizeFullName","","formControlName","fullName"],["matInput","","type","email","formControlName","email"],["matInput","","type","tel","formControlName","phone","placeholder","050-123-4567"],["matInput","","type","number","formControlName","age"],["matInput","","formControlName","city","placeholder","Start typing a city","appPlacesAutocomplete","",3,"placeSelected","types","country"],["mat-button","","matStepperNext",""],["matInput","","formControlName","hobbies","rows","3"],["matInput","","formControlName","perfectCandidateReason","rows","5"],["mat-button","","matStepperPrevious",""],[1,"d-flex","justify-content-center"],["mat-stroked-button","","type","button",3,"click"],["hidden","","type","file","accept","image/png, image/jpeg",3,"change"],[1,"image-preview"],[1,"mt-4"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20","mode","indeterminate"],["alt","Image Preview",3,"src"]],template:function(t,l){t&1&&(i(0,"div",2)(1,"video",3),p(2,"source",4),n(3," Your browser does not support the video tag. "),e()(),p(4,"div",5),i(5,"div",6),_(6,Pt,10,1,"div",7)(7,Ot,21,8,"div",8)(8,Rt,2,2),e()),t&2&&(m(6),b(l.submissionSuccess?6:l.canReEdit&&!l.hideReEditCard?7:8))},dependencies:[Y,z,Q,$,j,H,q,W,J,X,xt,et,ot,nt,it,lt,at,mt,dt,ct,pt,gt,bt,ut,_t,ft,rt,st,Ct,vt],styles:[".video-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-2;overflow:hidden}.video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:brightness(.7) contrast(1.1)}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000514cc;z-index:-1}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - 85px);padding:2rem;box-sizing:border-box;position:relative;width:100%}.hero-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;position:relative;z-index:10}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:4.5rem;font-weight:700;letter-spacing:.15em;margin-bottom:.8rem;color:#e0f2f7;text-shadow:0 0 15px rgba(65,133,244,.8),0 0 30px rgba(65,133,244,.4);animation:_ngcontent-%COMP%_fadeInDown 1s ease-out}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.3rem;max-width:700px;margin-bottom:3rem;line-height:1.8;color:#a0a0a0;text-shadow:1px 1px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .5s;animation-fill-mode:backwards}button[mat-raised-button].cta-button[_ngcontent-%COMP%]{padding:1.2rem 3rem;font-size:1.1rem;font-weight:600;letter-spacing:.1em;background-color:#4185f4;color:#fff;border:2px solid #4185f4;border-radius:50px;box-shadow:0 0 20px #4185f499;transition:all .4s cubic-bezier(.25,.8,.25,1);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out 1s;animation-fill-mode:backwards}button[mat-raised-button].cta-button[_ngcontent-%COMP%]:hover{background-color:#5a9bff;transform:translateY(-3px) scale(1.02);box-shadow:0 8px 30px #4185f4cc;border-color:#5a9bff;color:#fff}.form-container[_ngcontent-%COMP%]{width:100%;max-width:750px;background:#0f1e3cf2;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:16px;padding:2.5rem 3rem;border:1px solid rgba(80,150,255,.3);box-shadow:0 10px 40px #00000080;color:#e0e0e0;opacity:0}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:2.2rem;font-weight:500;letter-spacing:.12em;margin-bottom:2rem;color:#b3d9ff;text-shadow:0 0 8px rgba(80,150,255,.6)}.mat-mdc-form-field[_ngcontent-%COMP%]{--mat-form-field-floating-label-text-color: #b3d9ff;--mat-form-field-focus-label-text-color: #e0f2f7;--mat-form-field-text-input-pointer-events: auto;--mat-form-field-error-text-color: #ff6f6f;--mat-form-field-input-text-color: #ffffff;--mat-form-field-outline-color: rgba(255, 255, 255, .2);--mat-form-field-focus-outline-color: #8ab4f8;--mat-form-field-disabled-label-text-color: rgba(255, 255, 255, .4);--mat-form-field-disabled-input-text-color: rgba(255, 255, 255, .6);display:flex}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#0000004d;border-radius:8px}.mat-mdc-input-element[_ngcontent-%COMP%]{caret-color:#8ab4f8}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{color:#fff;background-color:#4185f4;box-shadow:0 4px 15px #4185f466;font-weight:600;letter-spacing:.05em}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#5a9bff;box-shadow:0 6px 20px #4185f499}.mat-mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#8ab4f8}.mat-vertical-content[_ngcontent-%COMP%]{padding:24px!important}.image-preview[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;height:auto;border-radius:10px;border:2px solid rgba(80,150,255,.5);box-shadow:0 0 15px #5096ff4d}.thank-you-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;background:#0f1e3cf2;backdrop-filter:blur(15px);border-radius:16px;padding:3.5rem;border:1px solid rgba(80,150,255,.3);box-shadow:0 10px 40px #00000080}.thank-you-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:2.5rem;font-weight:600;letter-spacing:.15em;color:#afa;text-shadow:0 0 10px rgba(170,255,170,.7)}.thank-you-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.1rem;color:silver;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#afa;margin:2rem 0;filter:drop-shadow(0 0 10px rgba(170,255,170,.7))}.thank-you-card[_ngcontent-%COMP%]   .re-edit-success-info[_ngcontent-%COMP%]{font-size:1.1em;color:#a0c0ff;border-top:1px solid rgba(65,133,244,.2);border-bottom:1px solid rgba(65,133,244,.2);padding:1rem 0;margin:1.5rem 0}.thank-you-card[_ngcontent-%COMP%]   .re-edit-success-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f7e733;font-weight:700}.thank-you-card[_ngcontent-%COMP%]   .return-home-btn[_ngcontent-%COMP%]{margin-left:1rem;color:#a0c0ff}.re-edit-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#0f1e3cf2;backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(65,133,244,.3);box-shadow:0 0 25px #4185f426;color:#e0f2f7;padding:0;box-sizing:border-box;margin-bottom:2rem}.re-edit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(65,133,244,.2)}.re-edit-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#a0c0ff;font-family:Orbitron,sans-serif;font-size:1.25rem}.re-edit-card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#a0c0ff}.re-edit-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:16px}.re-edit-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;margin-bottom:.5rem}.re-edit-card[_ngcontent-%COMP%]   .expiry-date[_ngcontent-%COMP%]{font-weight:700;color:#f7e733;font-size:1.1rem}.re-edit-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0 16px 16px}.re-edit-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.re-edit-card[_ngcontent-%COMP%]   button[color=accent][_ngcontent-%COMP%]{background-color:#f7e733;color:#212121}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.re-edit-card[_ngcontent-%COMP%]{max-width:90%;margin-top:70px}.form-container[_ngcontent-%COMP%]{padding:1.5rem;position:relative;transform:none;top:auto;left:auto;margin-top:2rem;opacity:1}}"],data:{animation:[B("formFade",[P("hidden",y({opacity:0,transform:"translateY(20px)","pointer-events":"none"})),P("visible",y({opacity:1,transform:"translateY(0)","pointer-events":"auto"})),O("hidden <=> visible",[w("600ms ease-out")]),O("void => visible",[y({opacity:0,transform:"translateY(20px)"}),w("600ms ease-out")])])]}})};export{yt as LandingComponent};
