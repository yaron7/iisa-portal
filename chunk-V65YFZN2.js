import"./chunk-GGQ7LRWG.js";import{c as et,d as Y,f as D,g as z,h as B}from"./chunk-W4BNGQYG.js";import{a as wt,b as Pt,c as Ot}from"./chunk-LJ5BKHVW.js";import{a as st}from"./chunk-CABEAW7R.js";import{A as vt,B as kt,c as M,d as F,e as ut,f as _t,g as gt,h as xt,i as Ct,j as bt}from"./chunk-B6J6PNFU.js";import"./chunk-YR2JDWSS.js";import{$ as E,a as it,aa as I,b as p,ca as ct,e as nt,f as ot,h as at,ha as pt,j as rt,k as lt,la as ft,na as T,o as mt,oa as ht,p as dt,pa as yt,qa as Et,ra as Mt,sa as St,ta as A}from"./chunk-OWSZPSB2.js";import{h as k,l as y,u as Z,w as tt}from"./chunk-VLRPGDCF.js";import{$,Ac as w,Cb as _,Ga as b,J as j,Jb as s,Ob as g,Rb as J,Sb as X,Tb as n,Ub as o,Vb as x,Zb as C,a as N,aa as q,b as G,bc as c,c as H,cc as d,ib as W,k as U,la as S,lb as m,lc as K,mc as a,nc as O,pc as Q,ua as f,va as u,vc as V,xb as h,yc as v}from"./chunk-Q2JYTUQO.js";function Vt(e,i){if(e&1){let t=C();n(0,"p",3),a(1," You can edit your application until "),n(2,"strong"),a(3),v(4,"date"),o(),a(5,". "),o(),n(6,"button",4),c("click",function(){f(t);let l=d();return u(l.editMySubmission.emit())}),n(7,"mat-icon"),a(8,"edit"),o(),a(9," Edit My Application "),o()}if(e&2){let t=d();m(3),O(w(4,1,t.reEditExpiresDate,"medium"))}}var L=class e{canReEdit=!1;reEditExpiresDate;editMySubmission=new b;returnHome=new b;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-thank-you-card"]],inputs:{canReEdit:"canReEdit",reEditExpiresDate:"reEditExpiresDate"},outputs:{editMySubmission:"editMySubmission",returnHome:"returnHome"},decls:10,vars:1,consts:[[1,"thank-you-card"],[1,"success-icon"],["mat-button","","color","primary",1,"return-home-btn",2,"margin-top","1rem",3,"click"],[1,"re-edit-success-info"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,r){t&1&&(n(0,"mat-card",0)(1,"h2"),a(2,"APPLICATION RECEIVED"),o(),n(3,"mat-icon",1),a(4,"check_circle"),o(),n(5,"p"),a(6,"Thank you for your submission. We are one step closer to history."),o(),_(7,Vt,10,4),n(8,"button",2),c("click",function(){return r.returnHome.emit()}),a(9," Return to Home "),o()()),t&2&&(m(7),g(r.canReEdit?7:-1))},dependencies:[y,k,I,E,F,M,A,T],styles:[".thank-you-card[_ngcontent-%COMP%]   .re-edit-success-info[_ngcontent-%COMP%]{font-size:1.1em;color:#a0c0ff;border-top:1px solid rgba(65,133,244,.2);border-bottom:1px solid rgba(65,133,244,.2);padding:1rem 0;margin:1.5rem 0}.thank-you-card[_ngcontent-%COMP%]   .re-edit-success-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f7e733;font-weight:700}.thank-you-card[_ngcontent-%COMP%]   .return-home-btn[_ngcontent-%COMP%]{margin-left:1rem;color:#a0c0ff}.thank-you-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;background:#0f1e3cf2;backdrop-filter:blur(15px);border-radius:16px;padding:3.5rem;border:1px solid rgba(80,150,255,.3);box-shadow:0 10px 40px #00000080}.thank-you-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:2.5rem;font-weight:600;letter-spacing:.15em;color:#afa;text-shadow:0 0 10px rgba(170,255,170,.7)}.thank-you-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.1rem;color:silver;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#afa;margin:2rem 0;filter:drop-shadow(0 0 10px rgba(170,255,170,.7))}"]})};var R=class e{reEditExpiresDate;beginApplication=new b;editMySubmission=new b;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-re-edit-card"]],inputs:{reEditExpiresDate:"reEditExpiresDate"},outputs:{beginApplication:"beginApplication",editMySubmission:"editMySubmission"},decls:20,vars:8,consts:[[1,"re-edit-card"],["mat-card-avatar","","color","accent"],[1,"expiry-date"],[1,"d-flex","justify-content-between",2,"margin-top","1rem"],["mat-button","",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,r){t&1&&(n(0,"mat-card",0)(1,"mat-card-header")(2,"mat-icon",1),a(3,"history"),o(),n(4,"mat-card-title"),a(5,"Welcome Back, Applicant!"),o()(),n(6,"mat-card-content")(7,"p"),a(8," You have an existing application in progress. You can edit it until: "),o(),n(9,"p",2),a(10),v(11,"date"),v(12,"date"),o()(),n(13,"mat-card-actions",3)(14,"button",4),c("click",function(){return r.beginApplication.emit()}),a(15," Start a New Application "),o(),n(16,"button",5),c("click",function(){return r.editMySubmission.emit()}),n(17,"mat-icon"),a(18,"edit"),o(),a(19," Edit My Application "),o()()()),t&2&&(m(10),Q(" ",w(11,2,r.reEditExpiresDate,"fullDate")," at ",w(12,5,r.reEditExpiresDate,"shortTime")," "))},dependencies:[y,k,I,E,F,M,A,T,Et,St,yt,Mt,ht],styles:[".re-edit-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#0f1e3cf2;backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(65,133,244,.3);box-shadow:0 0 25px #4185f426;color:#e0f2f7;padding:0;box-sizing:border-box;margin-bottom:2rem}.re-edit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(65,133,244,.2)}.re-edit-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#a0c0ff;font-family:Orbitron,sans-serif;font-size:1.25rem}.re-edit-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:16px}.re-edit-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;margin-bottom:.5rem}.re-edit-card[_ngcontent-%COMP%]   .expiry-date[_ngcontent-%COMP%]{font-weight:700;color:#f7e733;font-size:1.1rem;font-weight:600}.re-edit-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0 16px 16px}.re-edit-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.re-edit-card[_ngcontent-%COMP%]   button[color=accent][_ngcontent-%COMP%]{background-color:#a0c0ff;color:#212121}"]})};var Yt=()=>["(cities)"],zt=()=>["il"],Bt=(e,i)=>i.name;function Gt(e,i){if(e&1){let t=C();n(0,"app-thank-you-card",6),c("editMySubmission",function(){f(t);let l=d();return u(l.editMySubmission())})("returnHome",function(){f(t);let l=d();return u(l.resetState())}),o()}if(e&2){let t=d();s("canReEdit",t.canReEdit)("reEditExpiresDate",t.reEditExpiresDate)}}function Ht(e,i){if(e&1){let t=C();n(0,"app-re-edit-card",7),c("beginApplication",function(){f(t);let l=d();return u(l.beginApplication())})("editMySubmission",function(){f(t);let l=d();return u(l.editMySubmission())}),o()}if(e&2){let t=d();s("reEditExpiresDate",t.reEditExpiresDate)}}function Ut(e,i){if(e&1){let t=C();n(0,"div",8)(1,"h1"),a(2,"ISRAEL'S NEXT LEAP"),o(),n(3,"p"),a(4," The first Israeli public space flight is now open for registration. Start your journey to the stars. "),o(),n(5,"button",10),c("click",function(){f(t);let l=d(2);return u(l.beginApplication())}),a(6," BEGIN APPLICATION "),o()()}}function jt(e,i){e&1&&a(0,"Your Personal Details")}function $t(e,i){if(e&1&&x(0,"input",27),e&2){let t=d().$implicit;s("type",t.type)("formControlName",t.name)}}function qt(e,i){if(e&1&&x(0,"input",28),e&2){let t=d().$implicit;s("type",t.type)("formControlName",t.name)}}function Wt(e,i){if(e&1&&(n(0,"mat-form-field")(1,"mat-label"),a(2),o(),_(3,$t,1,2,"input",27)(4,qt,1,2,"input",28),o()),e&2){let t=i.$implicit;m(2),O(t.label),m(),g(t.name==="fullName"?3:4)}}function Jt(e,i){e&1&&a(0,"Tell Us About You")}function Xt(e,i){e&1&&a(0,"Upload Profile Image")}function Kt(e,i){if(e&1&&(n(0,"div",23),x(1,"img",29),o()),e&2){let t=d(3);m(),s("src",t.imagePreview,W)}}function Qt(e,i){e&1&&(n(0,"span"),a(1,"Submit Final Application"),o())}function Zt(e,i){e&1&&x(0,"mat-progress-spinner",26)}function te(e,i){if(e&1){let t=C();n(0,"div",9)(1,"h2"),a(2,"Application Portal"),o(),n(3,"mat-stepper",11,0)(5,"mat-step",12)(6,"form",13),_(7,jt,1,0,"ng-template",14),J(8,Wt,5,2,"mat-form-field",null,Bt),n(10,"mat-form-field")(11,"mat-label"),a(12,"City or region"),o(),n(13,"input",15),c("placeSelected",function(l){f(t);let P=d(2);return u(P.onCitySelected(l))}),o()(),n(14,"div")(15,"button",16),a(16,"Next"),o()()()(),n(17,"mat-step",12)(18,"form",13),_(19,Jt,1,0,"ng-template",14),n(20,"mat-form-field")(21,"mat-label"),a(22,"Hobbies"),o(),x(23,"textarea",17),o(),n(24,"mat-form-field")(25,"mat-label"),a(26,"Why are you the perfect candidate?"),o(),x(27,"textarea",18),o(),n(28,"div")(29,"button",19),a(30,"Back"),o(),n(31,"button",16),a(32,"Next"),o()()()(),n(33,"mat-step",12)(34,"form",13),_(35,Xt,1,0,"ng-template",14),n(36,"div",20)(37,"button",21),c("click",function(){f(t);let l=K(42);return u(l.click())}),n(38,"mat-icon"),a(39,"upload"),o(),a(40," Choose Image (JPEG/PNG) "),o(),n(41,"input",22,1),c("change",function(l){f(t);let P=d(2);return u(P.onFileSelected(l))}),o()(),_(43,Kt,2,1,"div",23),n(44,"div",24)(45,"button",19),a(46,"Back"),o(),n(47,"button",25),c("click",function(){f(t);let l=d(2);return u(l.onSubmit())}),_(48,Qt,2,0,"span")(49,Zt,1,0,"mat-progress-spinner",26),o()()()()()()}if(e&2){let t=d(2);s("@formFade",t.formState),m(5),s("stepControl",t.personalInfoForm),m(),s("formGroup",t.personalInfoForm),m(2),X(t.personalFields),m(5),s("types",V(12,Yt))("country",V(13,zt)),m(4),s("stepControl",t.freeTextForm),m(),s("formGroup",t.freeTextForm),m(15),s("stepControl",t.imageForm),m(),s("formGroup",t.imageForm),m(9),g(t.imagePreview?43:-1),m(4),s("disabled",t.isSubmitting),m(),g(t.isSubmitting?49:48)}}function ee(e,i){if(e&1&&_(0,Ut,7,0,"div",8)(1,te,50,14,"div",9),e&2){let t=d();g(t.formState==="hidden"?0:-1),m(),g(t.formState==="visible"?1:-1)}}var At=3,Lt=class e{personalInfoForm;freeTextForm;imageForm;selectedFile=null;imagePreview=null;isSubmitting=!1;submissionSuccess=!1;formState="hidden";personalFields=[{name:"fullName",label:"Full Name",type:"text"},{name:"email",label:"Email",type:"email"},{name:"phone",label:"Phone",type:"tel"},{name:"age",label:"Age",type:"number"}];canReEdit=!1;reEditCandidateId=null;reEditExpiresDate=null;hideReEditCard=!1;routerSubscription;destroy$=new U;fb=S(mt);router=S(tt);candidateService=S(kt);analyticsService=S(st);constructor(){this.personalInfoForm=this.fb.group({fullName:["",[p.required,Pt]],email:["",[p.required,p.email]],phone:["",[p.required,p.pattern(/^0(?:[23489]\d{7}|5\d{8})$/)]],age:[null,[p.required,p.min(18),p.max(100)]],city:["",p.required],cityLat:[null],cityLng:[null]}),this.freeTextForm=this.fb.group({hobbies:[""],perfectCandidateReason:["",[p.required,p.maxLength(1e3)]]}),this.imageForm=this.fb.group({profileImage:[null,p.required]})}ngOnInit(){this.analyticsService.incrementVisits(),this.checkReEditEligibility(),this.routerSubscription=this.router.events.pipe(j(i=>i instanceof Z)).subscribe(i=>{i.urlAfterRedirects==="/"&&(this.resetState(),this.checkReEditEligibility())})}checkReEditEligibility(){let i=localStorage.getItem("iisa_candidate_id"),t=localStorage.getItem("iisa_registration_date");if(i&&t){let r=new Date(t),l=new Date(r);l.setDate(r.getDate()+At),new Date<l?(this.canReEdit=!0,this.reEditCandidateId=i,this.reEditExpiresDate=l):(localStorage.removeItem("iisa_candidate_id"),localStorage.removeItem("iisa_registration_date"),this.canReEdit=!1)}else this.canReEdit=!1;this.hideReEditCard=!1}resetState(){this.formState="hidden",this.submissionSuccess=!1,this.isSubmitting=!1,this.imagePreview=null,this.selectedFile=null,this.personalInfoForm.reset(),this.freeTextForm.reset(),this.imageForm.reset(),this.hideReEditCard=!1}ngOnDestroy(){this.routerSubscription?.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}beginApplication(){this.formState="visible",this.hideReEditCard=!0}onFileSelected(i){let t=i.target.files?.[0];if(t){this.selectedFile=t,this.imageForm.patchValue({profileImage:t});let r=new FileReader;r.onload=()=>this.imagePreview=r.result,r.readAsDataURL(t)}}onCitySelected(i){this.personalInfoForm.patchValue({city:i.city||i.formattedAddress,cityLat:i.lat,cityLng:i.lng})}onSubmit(){if(!this.personalInfoForm.valid||!this.freeTextForm.valid||!this.imageForm.valid||!this.selectedFile){this.personalInfoForm.markAllAsTouched(),this.freeTextForm.markAllAsTouched(),this.imageForm.markAllAsTouched();return}this.isSubmitting=!0,this.candidateService.uploadProfileImage(this.selectedFile).pipe($(i=>{let l=G(N(N({},this.personalInfoForm.value),this.freeTextForm.value),{profileImageUrl:i,registrationDate:new Date,lastUpdated:new Date}),{id:t}=l,r=H(l,["id"]);return this.candidateService.addCandidate(r)}),q(this.destroy$)).subscribe({next:i=>{if(this.submissionSuccess=!0,this.isSubmitting=!1,this.analyticsService.incrementRegistrations(),i&&i.id){let t=i.id;localStorage.setItem("iisa_candidate_id",t);let r=new Date;localStorage.setItem("iisa_registration_date",r.toISOString()),this.reEditCandidateId=t;let l=new Date(r);l.setDate(l.getDate()+At),this.reEditExpiresDate=l,this.canReEdit=!0,this.hideReEditCard=!1}},error:i=>{console.error("Submission failed",i),this.isSubmitting=!1}})}editMySubmission(){this.reEditCandidateId&&this.router.navigate(["/candidates/edit",this.reEditCandidateId],{state:{source:"landing",returnUrl:this.router.url}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["iisa-landing"]],decls:5,vars:1,consts:[["stepper",""],["fileInput",""],[1,"overlay"],[1,"content-container"],[3,"canReEdit","reEditExpiresDate"],[3,"reEditExpiresDate"],[3,"editMySubmission","returnHome","canReEdit","reEditExpiresDate"],[3,"beginApplication","editMySubmission","reEditExpiresDate"],[1,"hero-section"],[1,"form-container"],["mat-raised-button","","color","primary",1,"cta-button",3,"click"],["orientation","vertical","linear",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","formControlName","city","placeholder","Start typing a city","placesAutocomplete","",3,"placeSelected","types","country"],["mat-button","","matStepperNext",""],["matInput","","formControlName","hobbies","rows","3"],["matInput","","formControlName","perfectCandidateReason","rows","5"],["mat-button","","matStepperPrevious",""],[1,"d-flex","justify-content-center"],["mat-stroked-button","","type","button",3,"click"],["hidden","","type","file","accept","image/png, image/jpeg",3,"change"],[1,"image-preview"],[1,"mt-4"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20","mode","indeterminate"],["matInput","","normalizeFullName","",3,"type","formControlName"],["matInput","",3,"type","formControlName"],["alt","Image Preview",3,"src"]],template:function(t,r){t&1&&(x(0,"div",2),n(1,"div",3),_(2,Gt,1,2,"app-thank-you-card",4)(3,Ht,1,1,"app-re-edit-card",5)(4,ee,2,2),o()),t&2&&(m(2),g(r.submissionSuccess?2:r.canReEdit&&!r.hideReEditCard?3:4))},dependencies:[y,dt,at,it,nt,ot,rt,lt,vt,E,ft,pt,ct,_t,ut,gt,xt,Ct,M,bt,L,R,wt,Ot],styles:[".content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - 85px);padding:2rem;box-sizing:border-box;position:relative;width:100%}.hero-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;position:relative;z-index:10}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:4.5rem;font-weight:700;letter-spacing:.15em;margin-bottom:.8rem;color:#e0f2f7;text-shadow:0 0 15px rgba(65,133,244,.8),0 0 30px rgba(65,133,244,.4);animation:_ngcontent-%COMP%_fadeInDown 1s ease-out}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.3rem;max-width:700px;margin-bottom:3rem;line-height:1.8;color:#a0a0a0;text-shadow:1px 1px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .5s;animation-fill-mode:backwards}button[mat-raised-button].cta-button[_ngcontent-%COMP%]{padding:1.2rem 3rem;font-size:1.1rem;font-weight:600;letter-spacing:.1em;background-color:#4185f4;color:#fff;border:2px solid #4185f4;border-radius:50px;box-shadow:0 0 20px #4185f499;transition:all .4s cubic-bezier(.25,.8,.25,1);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out 1s;animation-fill-mode:backwards}button[mat-raised-button].cta-button[_ngcontent-%COMP%]:hover{background-color:#5a9bff;transform:translateY(-3px) scale(1.02);box-shadow:0 8px 30px #4185f4cc;border-color:#5a9bff;color:#fff}.form-container[_ngcontent-%COMP%]{width:100%;max-width:750px;background:#0f1e3cf2;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:16px;padding:2.5rem 3rem;border:1px solid rgba(80,150,255,.3);box-shadow:0 10px 40px #00000080;color:#e0e0e0;opacity:0}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:2.2rem;font-weight:500;letter-spacing:.12em;margin-bottom:2rem;color:#b3d9ff;text-shadow:0 0 8px rgba(80,150,255,.6)}.mat-mdc-form-field[_ngcontent-%COMP%]{--mat-form-field-floating-label-text-color: #b3d9ff;--mat-form-field-focus-label-text-color: #e0f2f7;--mat-form-field-text-input-pointer-events: auto;--mat-form-field-error-text-color: #ff6f6f;--mat-form-field-input-text-color: #ffffff;--mat-form-field-outline-color: rgba(255, 255, 255, .2);--mat-form-field-focus-outline-color: #8ab4f8;--mat-form-field-disabled-label-text-color: rgba(255, 255, 255, .4);--mat-form-field-disabled-input-text-color: rgba(255, 255, 255, .6);display:flex}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#0000004d;border-radius:8px}.mat-mdc-input-element[_ngcontent-%COMP%]{caret-color:#8ab4f8}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{color:#fff;background-color:#4185f4;box-shadow:0 4px 15px #4185f466;font-weight:600;letter-spacing:.05em}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#5a9bff;box-shadow:0 6px 20px #4185f499}.mat-mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#8ab4f8}.mat-vertical-content[_ngcontent-%COMP%]{padding:24px!important}.image-preview[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;height:auto;border-radius:10px;border:2px solid rgba(80,150,255,.5);box-shadow:0 0 15px #5096ff4d}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.re-edit-card[_ngcontent-%COMP%]{max-width:90%;margin-top:70px}.form-container[_ngcontent-%COMP%]{padding:1.5rem;position:relative;transform:none;top:auto;left:auto;margin-top:2rem;opacity:1}}"],data:{animation:[et("formFade",[z("hidden",D({opacity:0,transform:"translateY(20px)","pointer-events":"none"})),z("visible",D({opacity:1,transform:"translateY(0)","pointer-events":"auto"})),B("hidden <=> visible",[Y("600ms ease-out")]),B("void => visible",[D({opacity:0,transform:"translateY(20px)"}),Y("600ms ease-out")])])]}})};export{Lt as LandingComponent};
